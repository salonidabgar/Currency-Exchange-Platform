'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var browser = require('@thirdweb-dev/sdk/dist/browser');
var ethers = require('ethers');
var Q = require('tiny-invariant');
var wagmi = require('wagmi');
var sdk = require('@thirdweb-dev/sdk');
var z = require('react');
var reactQuery = require('@tanstack/react-query');
var coinbaseWallet = require('wagmi/connectors/coinbaseWallet');
var injected = require('wagmi/connectors/injected');
var walletConnect = require('wagmi/connectors/walletConnect');
var detectBrowser = require('detect-browser');
var Yu = require('mime/lite.js');
var rl = require('react-cool-dimensions');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

function _interopNamespace(e) {
  if (e && e.__esModule) return e;
  var n = Object.create(null);
  if (e) {
    Object.keys(e).forEach(function (k) {
      if (k !== 'default') {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function () { return e[k]; }
        });
      }
    });
  }
  n["default"] = e;
  return Object.freeze(n);
}

var Q__default = /*#__PURE__*/_interopDefaultLegacy(Q);
var z__default = /*#__PURE__*/_interopDefaultLegacy(z);
var Yu__default = /*#__PURE__*/_interopDefaultLegacy(Yu);
var rl__default = /*#__PURE__*/_interopDefaultLegacy(rl);

!function(o){o&&(void 0===o.global&&(o.global=o),void 0===o.globalThis&&(o.globalThis=o),void 0===o.process&&(o.process={env:{NODE_ENV:"production"}}));}("undefined"!=typeof window?window:void 0);
var fn=Object.defineProperty;var n=(e,t)=>fn(e,"name",{value:t,configurable:!0}),Xe=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var yt=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ui=(e,t)=>{for(var r in t)fn(e,r,{get:t[r],enumerable:!0});};var b=yt(()=>{});var Pe,ot,it,oe,ke,Ye,hn,$e=yt(()=>{b();Pe=(e=>(e.MissingApiKey="MISSING_API_KEY",e.ModalNotReady="MODAL_NOT_READY",e.MalformedResponse="MALFORMED_RESPONSE",e.InvalidArgument="INVALID_ARGUMENT",e.ExtensionNotInitialized="EXTENSION_NOT_INITIALIZED",e.IncompatibleExtensions="INCOMPATIBLE_EXTENSIONS",e))(Pe||{}),ot=(e=>(e.SyncWeb3Method="SYNC_WEB3_METHOD",e.DuplicateIframe="DUPLICATE_IFRAME",e.ReactNativeEndpointConfiguration="REACT_NATIVE_ENDPOINT_CONFIGURATION",e.DeprecationNotice="DEPRECATION_NOTICE",e))(ot||{}),it=(e=>(e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.MagicLinkFailedVerification=-1e4]="MagicLinkFailedVerification",e[e.MagicLinkExpired=-10001]="MagicLinkExpired",e[e.MagicLinkRateLimited=-10002]="MagicLinkRateLimited",e[e.MagicLinkInvalidRedirectURL=-10006]="MagicLinkInvalidRedirectURL",e[e.UserAlreadyLoggedIn=-10003]="UserAlreadyLoggedIn",e[e.UpdateEmailFailed=-10004]="UpdateEmailFailed",e[e.UserRequestEditEmail=-10005]="UserRequestEditEmail",e[e.InactiveRecipient=-10010]="InactiveRecipient",e[e.AccessDeniedToUser=-10011]="AccessDeniedToUser",e))(it||{}),oe=(e=>(e.LoginWithSms="magic_auth_login_with_sms",e.LoginWithEmailOTP="magic_auth_login_with_email_otp",e.LoginWithMagicLink="magic_auth_login_with_magic_link",e.LoginWithCredential="magic_auth_login_with_credential",e.GetIdToken="magic_auth_get_id_token",e.GenerateIdToken="magic_auth_generate_id_token",e.GetMetadata="magic_auth_get_metadata",e.IsLoggedIn="magic_auth_is_logged_in",e.Logout="magic_auth_logout",e.UpdateEmail="magic_auth_update_email",e.UserSettings="magic_auth_settings",e.UserSettingsTestMode="magic_auth_settings_testing_mode",e.LoginWithSmsTestMode="magic_auth_login_with_sms_testing_mode",e.LoginWithEmailOTPTestMode="magic_auth_login_with_email_otp_testing_mode",e.LoginWithMagicLinkTestMode="magic_login_with_magic_link_testing_mode",e.LoginWithCredentialTestMode="magic_auth_login_with_credential_testing_mode",e.GetIdTokenTestMode="magic_auth_get_id_token_testing_mode",e.GenerateIdTokenTestMode="magic_auth_generate_id_token_testing_mode",e.GetMetadataTestMode="magic_auth_get_metadata_testing_mode",e.IsLoggedInTestMode="magic_auth_is_logged_in_testing_mode",e.LogoutTestMode="magic_auth_logout_testing_mode",e.UpdateEmailTestMode="magic_auth_update_email_testing_mode",e))(oe||{}),ke=(e=>(e.MAGIC_HANDLE_RESPONSE="MAGIC_HANDLE_RESPONSE",e.MAGIC_OVERLAY_READY="MAGIC_OVERLAY_READY",e.MAGIC_SHOW_OVERLAY="MAGIC_SHOW_OVERLAY",e.MAGIC_HIDE_OVERLAY="MAGIC_HIDE_OVERLAY",e.MAGIC_HANDLE_EVENT="MAGIC_HANDLE_EVENT",e))(ke||{}),Ye=(e=>(e.MAGIC_HANDLE_REQUEST="MAGIC_HANDLE_REQUEST",e))(Ye||{}),hn=(e=>(e.Harmony="HARMONY",e))(hn||{});});function os(e){let t={exports:{}};return e(t,t.exports),t.exports}function qs(e){return String.fromCharCode(parseInt(e.slice(1),16))}function Ws(e){return `%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`}function Gs(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,qs))}function Ks(e){return decodeURIComponent(Array.from(atob(e),Ws).join(""))}function Ln(e){return Gs(JSON.stringify(e))}function Hs(e){return JSON.parse(Ks(e))}function Ct(e){return typeof e>"u"}function zs(e){return e===null}function Pn(e){return zs(e)||Ct(e)}function Vs(e){return Pn(e)?!1:!Ct(e.jsonrpc)&&!Ct(e.id)&&(!Ct(e.result)||!Ct(e.error))}function Xs(e){return Pn(e)?!1:typeof e=="number"&&Object.values(it).includes(e)}function br(e){if(!e)return !0;for(let t in e)if(Object.hasOwnProperty.call(e,t))return !1;return !0}function kn(e,t){return Object.assign(ue,t),e}function Ys(){return new je(Pe.MissingApiKey,"Please provide an API key that you acquired from the Magic developer dashboard.")}function $n(){return new je(Pe.ModalNotReady,"Modal is not ready.")}function Js(){return new je(Pe.MalformedResponse,"Response from the Magic iframe is malformed.")}function Zs(e){return new je(Pe.ExtensionNotInitialized,`Extensions must be initialized with a Magic SDK instance before \`Extension.${e}\` can be accessed. Do not invoke \`Extension.${e}\` inside an extension constructor.`)}function ea(e){let t=`Some extensions are incompatible with \`${ue.sdkName}@${ue.version}\`:`;return e.filter(r=>typeof r.compat<"u"&&r.compat!==null).forEach(r=>{let o=r.compat[ue.sdkName];typeof o=="string"?t+=`
  - Extension \`${r.name}\` supports version(s) \`${o}\``:o||(t+=`
  - Extension \`${r.name}\` does not support ${ue.platform} environments.`);}),new je(Pe.IncompatibleExtensions,t)}function ta(e){let t=n(r=>{let o=r+1,i=o%10,a=o%100;return i===1&&a!==11?`${o}st`:i===2&&a!==12?`${o}nd`:i===3&&a!==13?`${o}rd`:`${o}th`},"e");return new je(Pe.InvalidArgument,`Invalid ${t(e.argument)} argument given to \`${e.procedure}\`.
  Expected: \`${e.expected}\`
  Received: \`${e.received}\``)}function Dn(){return new xt(ot.DuplicateIframe,"Duplicate iframes found.")}function ra(){return new xt(ot.SyncWeb3Method,"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.")}function na(){return new xt(ot.ReactNativeEndpointConfiguration,`CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \`endpoint\` parameter SHOULD NOT be provided. The Magic \`<iframe>\` is automatically wrapped by a WebView pointed at \`${ue.defaultEndpoint}\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`)}function*oa(){let e=0;for(;;)e<Number.MAX_SAFE_INTEGER?yield ++e:e=0;}function jn(){return ia.next().value}function Fn(e){return Object.defineProperty(e,Un,{value:!0,enumerable:!1}),e}function sa(e){return !!e[Un]}function Ht(e){var t,r,o;return sa(e)||(e.jsonrpc=(t=e.jsonrpc)!=null?t:"2.0",e.id=jn(),e.method=(r=e.method)!=null?r:"noop",e.params=(o=e.params)!=null?o:[],Fn(e)),e}function Ie(e,t=[]){return Fn({params:t,method:e,jsonrpc:"2.0",id:jn()})}function Bn(){let e=new ua;return {emitter:e,createChainingEmitterMethod:(t,r)=>(...o)=>(e[t].apply(e,o),r),createBoundEmitterMethod:t=>(...r)=>e[t].apply(e,r)}}function Ir(e){return !!e[qn]}function Wn(e){let t=Gn(e),{createBoundEmitterMethod:r,createChainingEmitterMethod:o}=Bn(),i=Symbol("Promise.then"),a=Symbol("Promise.catch"),d=Symbol("Promise.finally"),m=n((y,E)=>(...M)=>{let U=E[y].apply(E,M);return g(U)},"i"),g=n(y=>Object.assign(y,{[qn]:!0,[i]:y[i]||y.then,[a]:y[a]||y.catch,[d]:y[d]||y.finally,then:m(i,y),catch:m(a,y),finally:m(d,y),on:o("on",y),once:o("once",y),addListener:o("addListener",y),off:o("off",y),removeListener:o("removeListener",y),removeAllListeners:o("removeAllListeners",y),emit:r("emit"),eventNames:r("eventNames"),listeners:r("listeners"),listenerCount:r("listenerCount")}),"c"),h=g(t.then(y=>(h.emit("done",y),h.emit("settled"),y),y=>{throw h.emit("error",y),h.emit("settled"),y}));return h}function Gn(e){return new Promise((t,r)=>{let o=e(t,r);Promise.resolve(o).catch(r);})}function We(e){return (...t)=>De(this,null,function*(){return qt||(qt=yield ue.configureStorage()),yield qt.ready(),qt[e](...t)})}function ha(){let e=window.crypto.getRandomValues(new Uint8Array(16));e[6]=e[6]&15|64,e[8]=e[8]&191|128;let t="";return t+=e[0].toString(16),t+=e[1].toString(16),t+=e[2].toString(16),t+=e[3].toString(16),t+="-",t+=e[4].toString(16),t+=e[5].toString(16),t+="-",t+=e[6].toString(16),t+=e[7].toString(16),t+="-",t+=e[8].toString(16),t+=e[9].toString(16),t+="-",t+=e[10].toString(16),t+=e[11].toString(16),t+=e[12].toString(16),t+=e[13].toString(16),t+=e[14].toString(16),t+=e[15].toString(16),t}function va(){Er(Vt),Er(Ar);}function ba(){return De(this,null,function*(){let e=yield Ea();if(!e){console.info("unable to create public key or webcrypto is unsupported");return}let{subtle:t}=window.crypto,r=yield At(Ar);if(!r||!t){console.info("unable to find private key or webcrypto unsupported");return}let o={iat:Math.floor(new Date().getTime()/1e3),jti:ha()},i={typ:"dpop+jwt",alg:"ES256",jwk:e},a={protected:Rn(JSON.stringify(i)),claims:Rn(JSON.stringify(o))},d=Ia(`${a.protected}.${a.claims}`),m={name:_r,hash:{name:"SHA-256"}},g=_a(new Uint8Array(yield t.sign(m,r,d)));return `${a.protected}.${a.claims}.${g}`})}function Ea(){return De(this,null,function*(){if(!Ca()){console.info("webcrypto is not supported");return}return (yield At(Vt))||(yield wa()),At(Vt)})}function wa(){return De(this,null,function*(){let e=null,{subtle:t}=window.crypto,r=yield t.generateKey(ga,!0,["sign"]),o=yield t.exportKey("jwk",r.privateKey);e=yield t.exportKey("jwk",r.publicKey);let i=yield t.importKey("jwk",o,ya,!1,["sign"]);yield zt(Ar,i),yield zt(Vt,e);})}function Ca(){let e=typeof window<"u"&&!!window.crypto,t=e&&!!window.crypto.subtle;return e&&t}function Rn(e){return zn(Aa(e))}function Ia(e){return new TextEncoder().encode(e)}function zn(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+/g,"")}function Aa(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(t,r)=>String.fromCharCode(parseInt(r,16)))}function _a(e){let t="";return e.forEach(r=>{t+=String.fromCharCode(r);}),zn(t)}function _t(e,t){return t?new URL(e,t):new URL(e)}function xa(e){let t=Object.getPrototypeOf(e),r=[t];for(;t!==Nt.prototype;)t=Object.getPrototypeOf(t),r.push(t);return r}function Nn(e){return e.compat&&e.compat[ue.sdkName]!=null?typeof e.compat[ue.sdkName]=="string"?Ds(Bs(ue.version),e.compat[ue.sdkName]):!!e.compat[ue.sdkName]:!0}function Ta(e){var t;let r=(t=e==null?void 0:e.extensions)!=null?t:[],o={},i=[];if(Array.isArray(r)?r.forEach(a=>{Nn(a)?(a.init(this),(a.name||a.name!==Je.Anonymous)&&(this[a.name]=a),a instanceof Je.Internal&&(br(a.config)||(o[a.name]=a.config))):i.push(a);}):Object.keys(r).forEach(a=>{if(Nn(r[a])){r[a].init(this);let d=r[a];this[a]=d,d instanceof Je.Internal&&(br(d.config)||(o[r[a].name]=d.config));}else i.push(r[a]);}),i.length)throw ea(i);return o}function Ma(e,t){return t&&Array.isArray(e)?e.find(r=>r.id===t):e}function Oa(e,t){var r;let o=(r=t.data.response)==null?void 0:r.id,i=Ma(e,o);if(o&&i){let a=new Cr(i).applyResult(t.data.response.result).applyError(t.data.response.error);return {id:o,response:a}}return {}}function La(e,t){return De(this,null,function*(){let r=yield At("rt"),o;if(ue.platform==="web")try{o=yield ba();}catch(i){console.error("webcrypto error",i);}return o?r?{msgType:e,payload:t,jwt:o,rt:r}:{msgType:e,payload:t,jwt:o}:{msgType:e,payload:t}})}function Pa(e){return De(this,null,function*(){!e.data.rt||(yield zt("rt",e.data.rt));})}var Gi,St,Ki,Hi,zi,Vi,gn,Xi,Tn,Qi,yn,Mn,Yi,Ji,Zi,es,ts,rs,De,ns,is,wr,ss,ee,Rt,vn,On,as,us,bn,Ut,En,wn,Et,pe,ls,lt,cs,ds,fs,ps,ms,hs,gs,ys,vs,bs,Es,ws,Cs,vr,wt,It,Cn,In,at,he,me,Is,As,_s,An,Ss,be,Rs,xs,Ns,Ts,Ms,Os,Ls,Ps,ks,$s,Ds,js,_n,Sn,Us,Fs,Ft,Bt,Bs,ue,Qs,je,ut,xt,Xt,Kt,ia,Un,Cr,aa,ua,qn,Nt,la,Kn,qt,At,zt,Er,ca,da,fa,pa,ma,Ar,Vt,_r,Hn,ga,ya,Sa,Wt,st,Ra,xn,Vn,Na,Je,Gt,Sr,Xn,Qt=yt(()=>{b();$e();$e();$e();$e();$e();$e();$e();Gi=Object.create,St=Object.defineProperty,Ki=Object.defineProperties,Hi=Object.getOwnPropertyDescriptor,zi=Object.getOwnPropertyDescriptors,Vi=Object.getOwnPropertyNames,gn=Object.getOwnPropertySymbols,Xi=Object.getPrototypeOf,Tn=Object.prototype.hasOwnProperty,Qi=Object.prototype.propertyIsEnumerable,yn=n((e,t,r)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"Ne"),Mn=n((e,t)=>{for(var r in t||(t={}))Tn.call(t,r)&&yn(e,r,t[r]);if(gn)for(var r of gn(t))Qi.call(t,r)&&yn(e,r,t[r]);return e},"z"),Yi=n((e,t)=>Ki(e,zi(t)),"we"),Ji=n(e=>St(e,"__esModule",{value:!0}),"$t"),Zi=n((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"bt"),es=n((e,t)=>{for(var r in t)St(e,r,{get:t[r],enumerable:!0});},"Mt"),ts=n((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vi(t))!Tn.call(e,i)&&(r||i!=="default")&&St(e,i,{get:()=>t[i],enumerable:!(o=Hi(t,i))||o.enumerable});return e},"Nt"),rs=n((e,t)=>ts(Ji(St(e!=null?Gi(Xi(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),"wt"),De=n((e,t,r)=>new Promise((o,i)=>{var a=n(g=>{try{m(r.next(g));}catch(h){i(h);}},"o"),d=n(g=>{try{m(r.throw(g));}catch(h){i(h);}},"a"),m=n(g=>g.done?o(g.value):Promise.resolve(g.value).then(a,d),"i");m((r=r.apply(e,t)).next());}),"I"),ns=Zi((e,t)=>{var r=Object.prototype.hasOwnProperty,o="~";function i(){}n(i,"B"),Object.create&&(i.prototype=Object.create(null),new i().__proto__||(o=!1));function a(h,y,E){this.fn=h,this.context=y,this.once=E||!1;}n(a,"bn");function d(h,y,E,M,U){if(typeof E!="function")throw new TypeError("The listener must be a function");var C=new a(E,M||h,U),L=o?o+y:y;return h._events[L]?h._events[L].fn?h._events[L]=[h._events[L],C]:h._events[L].push(C):(h._events[L]=C,h._eventsCount++),h}n(d,"tt");function m(h,y){--h._eventsCount===0?h._events=new i:delete h._events[y];}n(m,"oe");function g(){this._events=new i,this._eventsCount=0;}n(g,"y"),g.prototype.eventNames=function(){var h=[],y,E;if(this._eventsCount===0)return h;for(E in y=this._events)r.call(y,E)&&h.push(o?E.slice(1):E);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(y)):h},g.prototype.listeners=function(h){var y=o?o+h:h,E=this._events[y];if(!E)return [];if(E.fn)return [E.fn];for(var M=0,U=E.length,C=new Array(U);M<U;M++)C[M]=E[M].fn;return C},g.prototype.listenerCount=function(h){var y=o?o+h:h,E=this._events[y];return E?E.fn?1:E.length:0},g.prototype.emit=function(h,y,E,M,U,C){var L=o?o+h:h;if(!this._events[L])return !1;var _=this._events[L],F=arguments.length,re,T;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),F){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,y),!0;case 3:return _.fn.call(_.context,y,E),!0;case 4:return _.fn.call(_.context,y,E,M),!0;case 5:return _.fn.call(_.context,y,E,M,U),!0;case 6:return _.fn.call(_.context,y,E,M,U,C),!0}for(T=1,re=new Array(F-1);T<F;T++)re[T-1]=arguments[T];_.fn.apply(_.context,re);}else {var de=_.length,Y;for(T=0;T<de;T++)switch(_[T].once&&this.removeListener(h,_[T].fn,void 0,!0),F){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,y);break;case 3:_[T].fn.call(_[T].context,y,E);break;case 4:_[T].fn.call(_[T].context,y,E,M);break;default:if(!re)for(Y=1,re=new Array(F-1);Y<F;Y++)re[Y-1]=arguments[Y];_[T].fn.apply(_[T].context,re);}}return !0},g.prototype.on=function(h,y,E){return d(this,h,y,E,!1)},g.prototype.once=function(h,y,E){return d(this,h,y,E,!0)},g.prototype.removeListener=function(h,y,E,M){var U=o?o+h:h;if(!this._events[U])return this;if(!y)return m(this,U),this;var C=this._events[U];if(C.fn)C.fn===y&&(!M||C.once)&&(!E||C.context===E)&&m(this,U);else {for(var L=0,_=[],F=C.length;L<F;L++)(C[L].fn!==y||M&&!C[L].once||E&&C[L].context!==E)&&_.push(C[L]);_.length?this._events[U]=_.length===1?_[0]:_:m(this,U);}return this},g.prototype.removeAllListeners=function(h){var y;return h?(y=o?o+h:h,this._events[y]&&m(this,y)):(this._events=new i,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=o,g.EventEmitter=g,typeof t<"u"&&(t.exports=g);});n(os,"At");is=Number.MAX_SAFE_INTEGER||9007199254740991,wr={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:is,MAX_SAFE_COMPONENT_LENGTH:16},ss=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},ee=ss,Rt=os(function(e,t){let{MAX_SAFE_COMPONENT_LENGTH:r}=wr,o=(t=e.exports={}).re=[],i=t.src=[],a=t.t={},d=0,m=n((g,h,y)=>{let E=d++;ee(E,h),a[g]=E,i[E]=h,o[E]=new RegExp(h,y?"g":void 0);},"i");m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","[0-9]+"),m("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),m("MAINVERSION",`(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${i[a.NUMERICIDENTIFIER]}|${i[a.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${i[a.NUMERICIDENTIFIERLOOSE]}|${i[a.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${i[a.PRERELEASEIDENTIFIER]}(?:\\.${i[a.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${i[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[a.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER","[0-9A-Za-z-]+"),m("BUILD",`(?:\\+(${i[a.BUILDIDENTIFIER]}(?:\\.${i[a.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${i[a.MAINVERSION]}${i[a.PRERELEASE]}?${i[a.BUILD]}?`),m("FULL",`^${i[a.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${i[a.MAINVERSIONLOOSE]}${i[a.PRERELEASELOOSE]}?${i[a.BUILD]}?`),m("LOOSE",`^${i[a.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${i[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${i[a.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:${i[a.PRERELEASE]})?${i[a.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:${i[a.PRERELEASELOOSE]})?${i[a.BUILD]}?)?)?`),m("XRANGE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAINLOOSE]}$`),m("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),m("COERCERTL",i[a.COERCE],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${i[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${i[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${i[a.LONECARET]}${i[a.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${i[a.LONECARET]}${i[a.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${i[a.GTLT]}\\s*(${i[a.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]}|${i[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${i[a.XRANGEPLAIN]})\\s+-\\s+(${i[a.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${i[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[a.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0.0.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$");}),vn=/^[0-9]+$/,On=n((e,t)=>{let r=vn.test(e),o=vn.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1},"Le"),as=n((e,t)=>On(t,e),"Ot"),us={compareIdentifiers:On,rcompareIdentifiers:as},{MAX_LENGTH:bn,MAX_SAFE_INTEGER:Ut}=wr,{re:En,t:wn}=Rt,{compareIdentifiers:Et}=us,pe=n(class{constructor(e,t){if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),e instanceof pe){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version;}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>bn)throw new TypeError(`version is longer than ${bn} characters`);ee("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?En[wn.LOOSE]:En[wn.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ut||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ut||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ut||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let i=+o;if(i>=0&&i<Ut)return i}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format();}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ee("SemVer.compare",this.version,this.options,e),!(e instanceof pe)){if(typeof e=="string"&&e===this.version)return 0;e=new pe(e,this.options);}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof pe||(e=new pe(e,this.options)),Et(this.major,e.major)||Et(this.minor,e.minor)||Et(this.patch,e.patch)}comparePre(e){if(e instanceof pe||(e=new pe(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],o=e.prerelease[t];if(ee("prerelease compare",t,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return -1;if(r!==o)return Et(r,o)}while(++t)}compareBuild(e){e instanceof pe||(e=new pe(e,this.options));let t=0;do{let r=this.build[t],o=e.build[t];if(ee("prerelease compare",t,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return -1;if(r!==o)return Et(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else {let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0);}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}},"E"),ls=n((e,t,r)=>new pe(e,r).compare(new pe(t,r)),"_t"),lt=ls,cs=n((e,t,r)=>lt(e,t,r)===0,"Dt"),ds=cs,fs=n((e,t,r)=>lt(e,t,r)!==0,"Jt"),ps=fs,ms=n((e,t,r)=>lt(e,t,r)>0,"Gt"),hs=ms,gs=n((e,t,r)=>lt(e,t,r)>=0,"Kt"),ys=gs,vs=n((e,t,r)=>lt(e,t,r)<0,"Ft"),bs=vs,Es=n((e,t,r)=>lt(e,t,r)<=0,"Xt"),ws=Es,Cs=n((e,t,r,o)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return ds(e,r,o);case"!=":return ps(e,r,o);case">":return hs(e,r,o);case">=":return ys(e,r,o);case"<":return bs(e,r,o);case"<=":return ws(e,r,o);default:throw new TypeError(`Invalid operator: ${t}`)}},"Ht"),vr=Cs,wt=Symbol("SemVer ANY"),It=n(class{static get ANY(){return wt}constructor(e,t){if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),e instanceof It){if(e.loose===!!t.loose)return e;e=e.value;}ee("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===wt?this.value="":this.value=this.operator+this.semver.version,ee("comp",this);}parse(e){let t=this.options.loose?Cn[In.COMPARATORLOOSE]:Cn[In.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new pe(r[2],this.options.loose):this.semver=wt;}toString(){return this.value}test(e){if(ee("Comparator.test",e,this.options.loose),this.semver===wt||e===wt)return !0;if(typeof e=="string")try{e=new pe(e,this.options);}catch{return !1}return vr(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof It))throw new TypeError("a Comparator is required");if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""||new at(e.value,t).test(this.value);if(e.operator==="")return e.value===""||new at(this.value,t).test(e.semver);let r=!(this.operator!==">="&&this.operator!==">"||e.operator!==">="&&e.operator!==">"),o=!(this.operator!=="<="&&this.operator!=="<"||e.operator!=="<="&&e.operator!=="<"),i=this.semver.version===e.semver.version,a=!(this.operator!==">="&&this.operator!=="<="||e.operator!==">="&&e.operator!=="<="),d=vr(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),m=vr(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||o||i&&a||d||m}},"O"),{re:Cn,t:In}=Rt,at=n(class{constructor(e,t){if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),e instanceof at)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new at(e.raw,t);if(e instanceof It)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);this.format();}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let{loose:t}=this.options;e=e.trim();let r=t?he[me.HYPHENRANGELOOSE]:he[me.HYPHENRANGE];e=e.replace(r,ks(this.options.includePrerelease)),ee("hyphen replace",e),e=e.replace(he[me.COMPARATORTRIM],Is),ee("comparator trim",e,he[me.COMPARATORTRIM]),e=(e=(e=e.replace(he[me.TILDETRIM],As)).replace(he[me.CARETTRIM],_s)).split(/\s+/).join(" ");let o=t?he[me.COMPARATORLOOSE]:he[me.COMPARATOR];return e.split(" ").map(i=>Ss(i,this.options)).join(" ").split(/\s+/).map(i=>Ps(i,this.options)).filter(this.options.loose?i=>!!i.match(o):()=>!0).map(i=>new It(i,this.options))}intersects(e,t){if(!(e instanceof at))throw new TypeError("a Range is required");return this.set.some(r=>An(r,t)&&e.set.some(o=>An(o,t)&&r.every(i=>o.every(a=>i.intersects(a,t)))))}test(e){if(!e)return !1;if(typeof e=="string")try{e=new pe(e,this.options);}catch{return !1}for(let t=0;t<this.set.length;t++)if($s(this.set[t],e,this.options))return !0;return !1}},"N"),{re:he,t:me,comparatorTrimReplace:Is,tildeTrimReplace:As,caretTrimReplace:_s}=Rt,An=n((e,t)=>{let r=!0,o=e.slice(),i=o.pop();for(;r&&o.length;)r=o.every(a=>i.intersects(a,t)),i=o.pop();return r},"ke"),Ss=n((e,t)=>(ee("comp",e,t),e=Ns(e,t),ee("caret",e),e=Rs(e,t),ee("tildes",e),e=Ms(e,t),ee("xrange",e),e=Ls(e,t),ee("stars",e),e),"Zt"),be=n(e=>!e||e.toLowerCase()==="x"||e==="*","R"),Rs=n((e,t)=>e.trim().split(/\s+/).map(r=>xs(r,t)).join(" "),"Qt"),xs=n((e,t)=>{let r=t.loose?he[me.TILDELOOSE]:he[me.TILDE];return e.replace(r,(o,i,a,d,m)=>{let g;return ee("tilde",e,o,i,a,d,m),be(i)?g="":be(a)?g=`>=${i}.0.0 <${+i+1}.0.0-0`:be(d)?g=`>=${i}.${a}.0 <${i}.${+a+1}.0-0`:m?(ee("replaceTilde pr",m),g=`>=${i}.${a}.${d}-${m} <${i}.${+a+1}.0-0`):g=`>=${i}.${a}.${d} <${i}.${+a+1}.0-0`,ee("tilde return",g),g})},"en"),Ns=n((e,t)=>e.trim().split(/\s+/).map(r=>Ts(r,t)).join(" "),"tn"),Ts=n((e,t)=>{ee("caret",e,t);let r=t.loose?he[me.CARETLOOSE]:he[me.CARET],o=t.includePrerelease?"-0":"";return e.replace(r,(i,a,d,m,g)=>{let h;return ee("caret",e,i,a,d,m,g),be(a)?h="":be(d)?h=`>=${a}.0.0${o} <${+a+1}.0.0-0`:be(m)?h=a==="0"?`>=${a}.${d}.0${o} <${a}.${+d+1}.0-0`:`>=${a}.${d}.0${o} <${+a+1}.0.0-0`:g?(ee("replaceCaret pr",g),h=a==="0"?d==="0"?`>=${a}.${d}.${m}-${g} <${a}.${d}.${+m+1}-0`:`>=${a}.${d}.${m}-${g} <${a}.${+d+1}.0-0`:`>=${a}.${d}.${m}-${g} <${+a+1}.0.0-0`):(ee("no pr"),h=a==="0"?d==="0"?`>=${a}.${d}.${m}${o} <${a}.${d}.${+m+1}-0`:`>=${a}.${d}.${m}${o} <${a}.${+d+1}.0-0`:`>=${a}.${d}.${m} <${+a+1}.0.0-0`),ee("caret return",h),h})},"nn"),Ms=n((e,t)=>(ee("replaceXRanges",e,t),e.split(/\s+/).map(r=>Os(r,t)).join(" ")),"rn"),Os=n((e,t)=>{e=e.trim();let r=t.loose?he[me.XRANGELOOSE]:he[me.XRANGE];return e.replace(r,(o,i,a,d,m,g)=>{ee("xRange",e,o,i,a,d,m,g);let h=be(a),y=h||be(d),E=y||be(m),M=E;return i==="="&&M&&(i=""),g=t.includePrerelease?"-0":"",h?o=i===">"||i==="<"?"<0.0.0-0":"*":i&&M?(y&&(d=0),m=0,i===">"?(i=">=",y?(a=+a+1,d=0,m=0):(d=+d+1,m=0)):i==="<="&&(i="<",y?a=+a+1:d=+d+1),i==="<"&&(g="-0"),o=`${i+a}.${d}.${m}${g}`):y?o=`>=${a}.0.0${g} <${+a+1}.0.0-0`:E&&(o=`>=${a}.${d}.0${g} <${a}.${+d+1}.0-0`),ee("xRange return",o),o})},"sn"),Ls=n((e,t)=>(ee("replaceStars",e,t),e.trim().replace(he[me.STAR],"")),"on"),Ps=n((e,t)=>(ee("replaceGTE0",e,t),e.trim().replace(he[t.includePrerelease?me.GTE0PRE:me.GTE0],"")),"an"),ks=n(e=>(t,r,o,i,a,d,m,g,h,y,E,M,U)=>`${r=be(o)?"":be(i)?`>=${o}.0.0${e?"-0":""}`:be(a)?`>=${o}.${i}.0${e?"-0":""}`:d?`>=${r}`:`>=${r}${e?"-0":""}`} ${g=be(h)?"":be(y)?`<${+h+1}.0.0-0`:be(E)?`<${h}.${+y+1}.0-0`:M?`<=${h}.${y}.${E}-${M}`:e?`<${h}.${y}.${+E+1}-0`:`<=${g}`}`.trim(),"cn"),$s=n((e,t,r)=>{for(let o=0;o<e.length;o++)if(!e[o].test(t))return !1;if(t.prerelease.length&&!r.includePrerelease){for(let o=0;o<e.length;o++)if(ee(e[o].semver),e[o].semver!==It.ANY&&e[o].semver.prerelease.length>0){let i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return !0}return !1}return !0},"ln"),Ds=n((e,t,r)=>{try{t=new at(t,r);}catch{return !1}return t.test(e)},"Je"),{MAX_LENGTH:js}=wr,{re:_n,t:Sn}=Rt,Us=n((e,t)=>{if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),e instanceof pe)return e;if(typeof e!="string"||e.length>js||!(t.loose?_n[Sn.LOOSE]:_n[Sn.FULL]).test(e))return null;try{return new pe(e,t)}catch{return null}},"un"),Fs=Us,{re:Ft,t:Bt}=Rt,Bs=n((e,t)=>{if(e instanceof pe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;let r=null;if((t=t||{}).rtl){let o;for(;(o=Ft[Bt.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),Ft[Bt.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;Ft[Bt.COERCERTL].lastIndex=-1;}else r=e.match(Ft[Bt.COERCE]);return r===null?null:Fs(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},"Ue");n(qs,"mn");n(Ws,"En");n(Gs,"hn");n(Ks,"fn");n(Ln,"ee");n(Hs,"Ke");n(Ct,"$");n(zs,"Rn");n(Pn,"te");n(Vs,"je");n(Xs,"Fe");n(br,"ne");ue={};n(kn,"Tn");Qs={"magic-sdk":"magic-sdk","@magic-sdk/react-native":"magic-sdk-rn"},je=n(class extends Error{constructor(e,t){super(`Magic SDK Error: [${e}] ${t}`),this.code=e,this.rawMessage=t,this.__proto__=Error,Object.setPrototypeOf(this,je.prototype);}},"b"),ut=n(class extends Error{constructor(e){super(),this.__proto__=Error;let t=Number(e==null?void 0:e.code);this.rawMessage=(e==null?void 0:e.message)||"Internal error",this.code=Xs(t)?t:it.InternalError,this.message=`Magic RPC Error: [${this.code}] ${this.rawMessage}`,Object.setPrototypeOf(this,ut.prototype);}},"w"),xt=n(class{constructor(e,t){this.code=e,this.rawMessage=t,this.message=`Magic SDK Warning: [${e}] ${t}`;}log(){console.warn(this.message);}},"W"),Xt=n(class extends Error{constructor(e,t,r,o){super(`Magic Extension Error (${e.name}): [${t}] ${r}`),this.code=t,this.rawMessage=r,this.data=o,this.__proto__=Error,Object.setPrototypeOf(this,Xt.prototype);}},"X"),Kt=n(class{constructor(e,t,r){this.code=t,this.rawMessage=r,this.message=`Magic Extension Warning (${e.name}): [${t}] ${r}`;}log(){console.warn(this.message);}},"se");n(Ys,"Xe");n($n,"cr");n(Js,"Be");n(Zs,"He");n(ea,"Ve");n(ta,"ze");n(Dn,"lr");n(ra,"Ye");n(na,"Ze");n(oa,"xn");ia=oa();n(jn,"he");Un=Symbol("Payload pre-processed by Magic SDK");n(Fn,"et");n(sa,"Pn");n(Ht,"C");n(Ie,"h");Cr=n(class{constructor(e){e instanceof Cr?(this._jsonrpc=e.payload.jsonrpc,this._id=e.payload.id,this._result=e.payload.result,this._error=e.payload.error):Vs(e)?(this._jsonrpc=e.jsonrpc,this._id=e.id,this._result=e.result,this._error=e.error):(this._jsonrpc=e.jsonrpc,this._id=e.id,this._result=void 0,this._error=void 0);}applyError(e){return this._error=e,this}applyResult(e){return this._result=e,this}get hasError(){return typeof this._error<"u"&&this._error!==null}get hasResult(){return typeof this._result<"u"}get payload(){return {jsonrpc:this._jsonrpc,id:this._id,result:this._result,error:this._error}}},"_"),aa=rs(ns()),ua=n(class extends aa.default{},"st");n(Bn,"ie");qn=Symbol("isPromiEvent");n(Ir,"it");n(Wn,"ae");n(Gn,"ge");Nt=n(class{constructor(e){this.sdk=e;}get overlay(){return this.sdk.overlay}request(e){let t=this.overlay.post(Ye.MAGIC_HANDLE_REQUEST,Ht(e)),r=Wn((i,a)=>{t.then(d=>{if(o(),d.hasError)a(new ut(d.payload.error));else if(d.hasResult)i(d.payload.result);else throw Js()}).catch(d=>{o(),a(d);});}),o=this.overlay.on(ke.MAGIC_HANDLE_EVENT,i=>{var a;let{response:d}=i.data;if(d.id===e.id&&((a=d.result)==null?void 0:a.event)){let{event:m,params:g=[]}=d.result;r.emit(m,...g);}});return r}},"P"),la=n(class extends Nt{loginWithMagicLink(e){let{email:t,showUI:r=!0,redirectURI:o}=e,i=Ie(this.sdk.testMode?oe.LoginWithMagicLinkTestMode:oe.LoginWithMagicLink,[{email:t,showUI:r,redirectURI:o}]);return this.request(i)}loginWithSMS(e){let{phoneNumber:t}=e,r=Ie(this.sdk.testMode?oe.LoginWithSmsTestMode:oe.LoginWithSms,[{phoneNumber:t,showUI:!0}]);return this.request(r)}loginWithEmailOTP(e){let{email:t}=e,r=Ie(this.sdk.testMode?oe.LoginWithEmailOTPTestMode:oe.LoginWithEmailOTP,[{email:t,showUI:!0}]);return this.request(r)}loginWithCredential(e){let t=e??"";if(!e&&ue.platform==="web"){t=window.location.search;let o=window.location.origin+window.location.pathname;window.history.replaceState(null,"",o);}let r=Ie(this.sdk.testMode?oe.LoginWithCredentialTestMode:oe.LoginWithCredential,[t]);return this.request(r)}},"ye"),Kn={};es(Kn,{clear:()=>ca,getItem:()=>At,iterate:()=>ma,key:()=>fa,keys:()=>pa,length:()=>da,removeItem:()=>Er,setItem:()=>zt});n(We,"L");At=We("getItem"),zt=We("setItem"),Er=We("removeItem"),ca=We("clear"),da=We("length"),fa=We("key"),pa=We("keys"),ma=We("iterate");n(ha,"at");Ar="STORE_KEY_PRIVATE_KEY",Vt="STORE_KEY_PUBLIC_JWK",_r="ECDSA",Hn="P-256",ga={name:_r,namedCurve:Hn},ya={name:_r,namedCurve:Hn};n(va,"lt");n(ba,"pt");n(Ea,"Dn");n(wa,"kn");n(Ca,"Jn");n(Rn,"ut");n(Ia,"qn");n(zn,"dt");n(Aa,"Gn");n(_a,"Un");Sa=n(class extends Nt{getIdToken(e){let t=Ie(this.sdk.testMode?oe.GetIdTokenTestMode:oe.GetIdToken,[e]);return this.request(t)}generateIdToken(e){let t=Ie(this.sdk.testMode?oe.GenerateIdTokenTestMode:oe.GenerateIdToken,[e]);return this.request(t)}getMetadata(){let e=Ie(this.sdk.testMode?oe.GetMetadataTestMode:oe.GetMetadata);return this.request(e)}updateEmail(e){let{email:t,showUI:r=!0}=e,o=Ie(this.sdk.testMode?oe.UpdateEmailTestMode:oe.UpdateEmail,[{email:t,showUI:r}]);return this.request(o)}isLoggedIn(){let e=Ie(this.sdk.testMode?oe.IsLoggedInTestMode:oe.IsLoggedIn);return this.request(e)}logout(){va();let e=Ie(this.sdk.testMode?oe.LogoutTestMode:oe.Logout);return this.request(e)}showSettings(){let e=Ie(this.sdk.testMode?oe.UserSettingsTestMode:oe.UserSettings);return this.request(e)}},"ve"),{createBoundEmitterMethod:Wt,createChainingEmitterMethod:st}=Bn(),Ra=n(class extends Nt{constructor(){super(...arguments),this.isMagic=!0,this.on=st("on",this),this.once=st("once",this),this.addListener=st("addListener",this),this.off=st("off",this),this.removeListener=st("removeListener",this),this.removeAllListeners=st("removeAllListeners",this),this.emit=Wt("emit"),this.eventNames=Wt("eventNames"),this.listeners=Wt("listeners"),this.listenerCount=Wt("listenerCount");}sendAsync(e,t){if(!t)throw ta({procedure:"Magic.rpcProvider.sendAsync",argument:1,expected:"function",received:t===null?"null":typeof t});if(Array.isArray(e))this.overlay.post(Ye.MAGIC_HANDLE_REQUEST,e.map(r=>{let o=Ht(r);return this.prefixPayloadMethodForTestMode(o),o})).then(r=>{t(null,r.map(o=>Yi(Mn({},o.payload),{error:o.hasError?new ut(o.payload.error):null})));});else {let r=Ht(e);this.prefixPayloadMethodForTestMode(r),this.overlay.post(Ye.MAGIC_HANDLE_REQUEST,r).then(o=>{t(o.hasError?new ut(o.payload.error):null,o.payload);});}}send(e,t){if(typeof e=="string"){let o=Ie(e,Array.isArray(t)?t:[]);return this.request(o)}if(Array.isArray(e)||!!t){this.sendAsync(e,t);return}let r=ra();return r.log(),new Cr(e).applyError({code:-32603,message:r.rawMessage}).payload}enable(){let e=Ie("eth_accounts");return this.request(e)}request(e){return this.prefixPayloadMethodForTestMode(e),super.request(e)}prefixPayloadMethodForTestMode(e){let t="testMode/eth/";this.sdk.testMode&&(e.method=`${t}${e.method}`);}},"xe");n(_t,"Ie");xn=["request","overlay","sdk"];n(xa,"Kn");Vn=n(class extends Nt{constructor(){super(void 0),this.__sdk_access_field_descriptors__=new Map,this.__is_initialized__=!1,this.utils={createPromiEvent:Wn,isPromiEvent:Ir,encodeJSON:Ln,decodeJSON:Hs,createJsonRpcRequestPayload:Ie,standardizeJsonRpcRequestPayload:Ht,storage:Kn};let e=[this,...xa(this)];xn.forEach(t=>{let r=e.map(d=>Object.getOwnPropertyDescriptor(d,t)),o=r.findIndex(d=>!!d),i=o>0,a=r[o];a&&(this.__sdk_access_field_descriptors__.set(t,{descriptor:a,isPrototypeField:i}),Object.defineProperty(this,t,{configurable:!0,get:()=>{throw Zs(t)}}));});}init(e){this.__is_initialized__||(xn.forEach(t=>{if(this.__sdk_access_field_descriptors__.has(t)){let{descriptor:r,isPrototypeField:o}=this.__sdk_access_field_descriptors__.get(t);o?delete this[t]:Object.defineProperty(this,t,r);}}),this.sdk=e,this.__is_initialized__=!0);}createDeprecationWarning(e){let{method:t,removalVersion:r,useInstead:o}=e,i=o?` Use \`${o}\` instead.`:"",a=`\`${t}\` will be removed from this Extension in version \`${r}\`.${i}`;return new Kt(this,"DEPRECATION_NOTICE",a)}createWarning(e,t){return new Kt(this,e,t)}createError(e,t,r){return new Xt(this,e,t,r)}},"Pe"),Na=n(class extends Vn{},"ht"),Je=n(class extends Vn{},"S");Je.Internal=Na,Je.Anonymous="anonymous extension";n(Nn,"ft");n(Ta,"jn");Gt=n(class{constructor(e,t){this.apiKey=e;var r;if(!e)throw Ys();ue.platform==="react-native"&&(t==null?void 0:t.endpoint)&&na().log();let{defaultEndpoint:o,version:i}=ue;this.testMode=!!(t!=null&&t.testMode),this.endpoint=_t((r=t==null?void 0:t.endpoint)!=null?r:o).origin,this.auth=new la(this),this.user=new Sa(this),this.rpcProvider=new Ra(this);let a=Ta.call(this,t);this.parameters=Ln(Mn({API_KEY:this.apiKey,DOMAIN_ORIGIN:window.location?window.location.origin:"",ETH_NETWORK:t==null?void 0:t.network,host:_t(this.endpoint).host,sdk:Qs[ue.sdkName],version:i,ext:br(a)?void 0:a,locale:(t==null?void 0:t.locale)||"en_US"},ue.bundleId?{bundleId:ue.bundleId}:{}));}get overlay(){if(!Gt.__overlays__.has(this.parameters)){let e=new ue.ViewController(this.endpoint,this.parameters);e.init(),Gt.__overlays__.set(this.parameters,e);}return Gt.__overlays__.get(this.parameters)}preload(){return De(this,null,function*(){yield this.overlay.ready;})}},"V"),Sr=Gt;Sr.__overlays__=new Map;n(Ma,"Fn");n(Oa,"Wn");n(La,"Xn");n(Pa,"Bn");Xn=n(class{constructor(e,t){this.endpoint=e,this.parameters=t,this.messageHandlers=new Set,this.ready=this.waitForReady(),this.listen();}post(e,t){return De(this,null,function*(){return Gn(r=>De(this,null,function*(){yield this.ready;let o=[],i=Array.isArray(t)?t.map(g=>g.id):[],a=yield La(`${e}-${this.parameters}`,t);yield this._post(a);let d=n(g=>h=>{let{id:y,response:E}=Oa(t,h);Pa(h),y&&E&&Array.isArray(t)&&i.includes(y)?(o.push(E),o.length===t.length&&(g(),r(o))):y&&E&&!Array.isArray(t)&&y===t.id&&(g(),r(E));},"i"),m=this.on(ke.MAGIC_HANDLE_RESPONSE,d(()=>m()));}))})}on(e,t){let r=t.bind(window),o=n(i=>{i.data.msgType===`${e}-${this.parameters}`&&r(i);},"s");return this.messageHandlers.add(o),()=>this.messageHandlers.delete(o)}waitForReady(){return new Promise(e=>{this.on(ke.MAGIC_OVERLAY_READY,()=>e());})}listen(){this.on(ke.MAGIC_HIDE_OVERLAY,()=>{this.hideOverlay();}),this.on(ke.MAGIC_SHOW_OVERLAY,()=>{this.showOverlay();});}},"gt");});var Qn=yt(()=>{b();Qt();$e();});var eo={};Ui(eo,{EthChainType:()=>hn,Extension:()=>Je,ExtensionError:()=>Xt,ExtensionWarning:()=>Kt,Magic:()=>Va,MagicIncomingWindowMessage:()=>ke,MagicOutgoingWindowMessage:()=>Ye,MagicPayloadMethod:()=>oe,RPCError:()=>ut,RPCErrorCode:()=>it,SDKError:()=>je,SDKErrorCode:()=>Pe,SDKWarning:()=>xt,SDKWarningCode:()=>ot,isPromiEvent:()=>Ir});function Ka(e){for(let[t,r]of Object.entries(Ga))e.style[t]=r;}function Ha(e){let t=[].slice.call(document.querySelectorAll(".magic-iframe"));return Boolean(t.find(r=>r.src.includes(e)))}var ka,xr,$a,Da,ja,Ua,Fa,Yt,Jn,Ba,Zn,Jt,qa,Wa,Rr,Yn,Ga,za,Va,to=yt(()=>{b();Qt();Qt();Qn();ka=Object.create,xr=Object.defineProperty,$a=Object.getOwnPropertyDescriptor,Da=Object.getOwnPropertyNames,ja=Object.getPrototypeOf,Ua=Object.prototype.hasOwnProperty,Fa=n(e=>xr(e,"__esModule",{value:!0}),"tt"),Yt=(e=>typeof Xe<"u"?Xe:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof Xe<"u"?Xe:t)[r]}):e)(function(e){if(typeof Xe<"u")return Xe.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Jn=n((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"$e"),Ba=n((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Da(t))!Ua.call(e,i)&&(r||i!=="default")&&xr(e,i,{get:()=>t[i],enumerable:!(o=$a(t,i))||o.enumerable});return e},"nt"),Zn=n((e,t)=>Ba(Fa(xr(e!=null?ka(ja(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),"Ze"),Jt=n((e,t,r)=>new Promise((o,i)=>{var a=n(g=>{try{m(r.next(g));}catch(h){i(h);}},"Q"),d=n(g=>{try{m(r.throw(g));}catch(h){i(h);}},"C"),m=n(g=>g.done?o(g.value):Promise.resolve(g.value).then(a,d),"Y");m((r=r.apply(e,t)).next());}),"se"),qa=Jn((e,t)=>{(function(r){if(typeof e=="object"&&typeof t<"u")t.exports=r();else if(typeof define=="function"&&define.amd)define([],r);else {var o;typeof window<"u"?o=window:typeof globalThis<"u"?o=globalThis:typeof self<"u"?o=self:o=this,o.localforage=r();}})(function(){return n(function a(d,m,g){function h(M,U){if(!m[M]){if(!d[M]){var C=typeof Yt=="function"&&Yt;if(!U&&C)return C(M,!0);if(y)return y(M,!0);var L=new Error("Cannot find module '"+M+"'");throw L.code="MODULE_NOT_FOUND",L}var _=m[M]={exports:{}};d[M][0].call(_.exports,function(F){var re=d[M][1][F];return h(re||F)},_,_.exports,a,d,m,g);}return m[M].exports}n(h,"Y");for(var y=typeof Yt=="function"&&Yt,E=0;E<g.length;E++)h(g[E]);return h},"L")({1:[function(a,d,m){(function(g){var h=g.MutationObserver||g.WebKitMutationObserver,y;if(h){var E=0,M=new h(F),U=g.document.createTextNode("");M.observe(U,{characterData:!0}),y=n(function(){U.data=E=++E%2;},"S");}else if(!g.setImmediate&&typeof g.MessageChannel<"u"){var C=new g.MessageChannel;C.port1.onmessage=F,y=n(function(){C.port2.postMessage(0);},"S");}else "document"in g&&"onreadystatechange"in g.document.createElement("script")?y=n(function(){var T=g.document.createElement("script");T.onreadystatechange=function(){F(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null;},g.document.documentElement.appendChild(T);},"S"):y=n(function(){setTimeout(F,0);},"S");var L,_=[];function F(){L=!0;for(var T,de,Y=_.length;Y;){for(de=_,_=[],T=-1;++T<Y;)de[T]();Y=_.length;}L=!1;}n(F,"z"),d.exports=re;function re(T){_.push(T)===1&&!L&&y();}n(re,"q");}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{});},{}],2:[function(a,d,m){var g=a(1);function h(){}n(h,"Y");var y={},E=["REJECTED"],M=["FULFILLED"],U=["PENDING"];d.exports=C;function C(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=U,this.queue=[],this.outcome=void 0,O!==h&&re(this,O);}n(C,"m"),C.prototype.catch=function(O){return this.then(null,O)},C.prototype.then=function(O,V){if(typeof O!="function"&&this.state===M||typeof V!="function"&&this.state===E)return this;var W=new this.constructor(h);if(this.state!==U){var J=this.state===M?O:V;_(W,J,this.outcome);}else this.queue.push(new L(W,O,V));return W};function L(O,V,W){this.promise=O,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof W=="function"&&(this.onRejected=W,this.callRejected=this.otherCallRejected);}n(L,"w"),L.prototype.callFulfilled=function(O){y.resolve(this.promise,O);},L.prototype.otherCallFulfilled=function(O){_(this.promise,this.onFulfilled,O);},L.prototype.callRejected=function(O){y.reject(this.promise,O);},L.prototype.otherCallRejected=function(O){_(this.promise,this.onRejected,O);};function _(O,V,W){g(function(){var J;try{J=V(W);}catch(le){return y.reject(O,le)}J===O?y.reject(O,new TypeError("Cannot resolve promise with itself")):y.resolve(O,J);});}n(_,"N"),y.resolve=function(O,V){var W=T(F,V);if(W.status==="error")return y.reject(O,W.value);var J=W.value;if(J)re(O,J);else {O.state=M,O.outcome=V;for(var le=-1,ye=O.queue.length;++le<ye;)O.queue[le].callFulfilled(V);}return O},y.reject=function(O,V){O.state=E,O.outcome=V;for(var W=-1,J=O.queue.length;++W<J;)O.queue[W].callRejected(V);return O};function F(O){var V=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof V=="function")return function(){V.apply(O,arguments);}}n(F,"z");function re(O,V){var W=!1;function J(Ce){W||(W=!0,y.reject(O,Ce));}n(J,"B");function le(Ce){W||(W=!0,y.resolve(O,Ce));}n(le,"H");function ye(){V(le,J);}n(ye,"j");var we=T(ye);we.status==="error"&&J(we.value);}n(re,"q");function T(O,V){var W={};try{W.value=O(V),W.status="success";}catch(J){W.status="error",W.value=J;}return W}n(T,"F"),C.resolve=de;function de(O){return O instanceof this?O:y.resolve(new this(h),O)}n(de,"k"),C.reject=Y;function Y(O){var V=new this(h);return y.reject(V,O)}n(Y,"U"),C.all=tt;function tt(O){var V=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var W=O.length,J=!1;if(!W)return this.resolve([]);for(var le=new Array(W),ye=0,we=-1,Ce=new this(h);++we<W;)Ne(O[we],we);return Ce;function Ne(ze,v){V.resolve(ze).then(I,function(N){J||(J=!0,y.reject(Ce,N));});function I(N){le[v]=N,++ye===W&&!J&&(J=!0,y.resolve(Ce,le));}n(I,"s");}}n(tt,"ae"),C.race=Le;function Le(O){var V=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var W=O.length,J=!1;if(!W)return this.resolve([]);for(var le=-1,ye=new this(h);++le<W;)we(O[le]);return ye;function we(Ce){V.resolve(Ce).then(function(Ne){J||(J=!0,y.resolve(ye,Ne));},function(Ne){J||(J=!0,y.reject(ye,Ne));});}}n(Le,"re");},{1:1}],3:[function(a,d,m){(function(g){typeof g.Promise!="function"&&(g.Promise=a(2));}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{});},{2:2}],4:[function(a,d,m){var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function h(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}n(h,"Y");function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}n(y,"S");var E=y();function M(){try{if(!E||!E.open)return !1;var s=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),u=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return (!s||u)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return !1}}n(M,"K");function U(s,u){s=s||[],u=u||{};try{return new Blob(s,u)}catch(p){if(p.name!=="TypeError")throw p;for(var l=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,f=new l,c=0;c<s.length;c+=1)f.append(s[c]);return f.getBlob(u.type)}}n(U,"Z"),typeof Promise>"u"&&a(3);var C=Promise;function L(s,u){u&&s.then(function(l){u(null,l);},function(l){u(l);});}n(L,"w");function _(s,u,l){typeof u=="function"&&s.then(u),typeof l=="function"&&s.catch(l);}n(_,"N");function F(s){return typeof s!="string"&&(console.warn(s+" used as a key, but it is not a string."),s=String(s)),s}n(F,"z");function re(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}n(re,"q");var T="local-forage-detect-blob-support",de=void 0,Y={},tt=Object.prototype.toString,Le="readonly",O="readwrite";function V(s){for(var u=s.length,l=new ArrayBuffer(u),f=new Uint8Array(l),c=0;c<u;c++)f[c]=s.charCodeAt(c);return l}n(V,"R");function W(s){return new C(function(u){var l=s.transaction(T,O),f=U([""]);l.objectStore(T).put(f,"key"),l.onabort=function(c){c.preventDefault(),c.stopPropagation(),u(!1);},l.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),p=navigator.userAgent.match(/Edge\//);u(p||!c||parseInt(c[1],10)>=43);};}).catch(function(){return !1})}n(W,"I");function J(s){return typeof de=="boolean"?C.resolve(de):W(s).then(function(u){return de=u,de})}n(J,"B");function le(s){var u=Y[s.name],l={};l.promise=new C(function(f,c){l.resolve=f,l.reject=c;}),u.deferredOperations.push(l),u.dbReady?u.dbReady=u.dbReady.then(function(){return l.promise}):u.dbReady=l.promise;}n(le,"H");function ye(s){var u=Y[s.name],l=u.deferredOperations.pop();if(l)return l.resolve(),l.promise}n(ye,"j");function we(s,u){var l=Y[s.name],f=l.deferredOperations.pop();if(f)return f.reject(u),f.promise}n(we,"J");function Ce(s,u){return new C(function(l,f){if(Y[s.name]=Y[s.name]||fe(),s.db)if(u)le(s),s.db.close();else return l(s.db);var c=[s.name];u&&c.push(s.version);var p=E.open.apply(E,c);u&&(p.onupgradeneeded=function(w){var A=p.result;try{A.createObjectStore(s.storeName),w.oldVersion<=1&&A.createObjectStore(T);}catch(x){if(x.name==="ConstraintError")console.warn('The database "'+s.name+'" has been upgraded from version '+w.oldVersion+" to version "+w.newVersion+', but the storage "'+s.storeName+'" already exists.');else throw x}}),p.onerror=function(w){w.preventDefault(),f(p.error);},p.onsuccess=function(){l(p.result),ye(s);};})}n(Ce,"$");function Ne(s){return Ce(s,!1)}n(Ne,"ee");function ze(s){return Ce(s,!0)}n(ze,"oe");function v(s,u){if(!s.db)return !0;var l=!s.db.objectStoreNames.contains(s.storeName),f=s.version<s.db.version,c=s.version>s.db.version;if(f&&(s.version!==u&&console.warn('The database "'+s.name+`" can't be downgraded from version `+s.db.version+" to version "+s.version+"."),s.version=s.db.version),c||l){if(l){var p=s.db.version+1;p>s.version&&(s.version=p);}return !0}return !1}n(v,"a");function I(s){return new C(function(u,l){var f=new FileReader;f.onerror=l,f.onloadend=function(c){var p=btoa(c.target.result||"");u({__local_forage_encoded_blob:!0,data:p,type:s.type});},f.readAsBinaryString(s);})}n(I,"s");function N(s){var u=V(atob(s.data));return U([u],{type:s.type})}n(N,"v");function D(s){return s&&s.__local_forage_encoded_blob}n(D,"b");function j(s){var u=this,l=u._initReady().then(function(){var f=Y[u._dbInfo.name];if(f&&f.dbReady)return f.dbReady});return _(l,s,s),l}n(j,"_");function B(s){le(s);for(var u=Y[s.name],l=u.forages,f=0;f<l.length;f++){var c=l[f];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null);}return s.db=null,Ne(s).then(function(p){return s.db=p,v(s)?ze(s):p}).then(function(p){s.db=u.db=p;for(var w=0;w<l.length;w++)l[w]._dbInfo.db=p;}).catch(function(p){throw we(s,p),p})}n(B,"E");function X(s,u,l,f){f===void 0&&(f=1);try{var c=s.db.transaction(s.storeName,u);l(null,c);}catch(p){if(f>0&&(!s.db||p.name==="InvalidStateError"||p.name==="NotFoundError"))return C.resolve().then(function(){if(!s.db||p.name==="NotFoundError"&&!s.db.objectStoreNames.contains(s.storeName)&&s.version<=s.db.version)return s.db&&(s.version=s.db.version+1),ze(s)}).then(function(){return B(s).then(function(){X(s,u,l,f-1);})}).catch(l);l(p);}}n(X,"D");function fe(){return {forages:[],db:null,dbReady:null,deferredOperations:[]}}n(fe,"G");function rt(s){var u=this,l={db:null};if(s)for(var f in s)l[f]=s[f];var c=Y[l.name];c||(c=fe(),Y[l.name]=c),c.forages.push(u),u._initReady||(u._initReady=u.ready,u.ready=j);var p=[];function w(){return C.resolve()}n(w,"f");for(var A=0;A<c.forages.length;A++){var x=c.forages[A];x!==u&&p.push(x._initReady().catch(w));}var R=c.forages.slice(0);return C.all(p).then(function(){return l.db=c.db,Ne(l)}).then(function(S){return l.db=S,v(l,u._defaultConfig.version)?ze(l):S}).then(function(S){l.db=c.db=S,u._dbInfo=l;for(var $=0;$<R.length;$++){var G=R[$];G!==u&&(G._dbInfo.db=l.db,G._dbInfo.version=l.version);}})}n(rt,"fe");function Ve(s,u){var l=this;s=F(s);var f=new C(function(c,p){l.ready().then(function(){X(l._dbInfo,Le,function(w,A){if(w)return p(w);try{var x=A.objectStore(l._dbInfo.storeName),R=x.get(s);R.onsuccess=function(){var S=R.result;S===void 0&&(S=null),D(S)&&(S=N(S)),c(S);},R.onerror=function(){p(R.error);};}catch(S){p(S);}});}).catch(p);});return L(f,u),f}n(Ve,"ie");function ht(s,u){var l=this,f=new C(function(c,p){l.ready().then(function(){X(l._dbInfo,Le,function(w,A){if(w)return p(w);try{var x=A.objectStore(l._dbInfo.storeName),R=x.openCursor(),S=1;R.onsuccess=function(){var $=R.result;if($){var G=$.value;D(G)&&(G=N(G));var ne=s(G,$.key,S++);ne!==void 0?c(ne):$.continue();}else c();},R.onerror=function(){p(R.error);};}catch($){p($);}});}).catch(p);});return L(f,u),f}n(ht,"ce");function Ho(s,u,l){var f=this;s=F(s);var c=new C(function(p,w){var A;f.ready().then(function(){return A=f._dbInfo,tt.call(u)==="[object Blob]"?J(A.db).then(function(x){return x?u:I(u)}):u}).then(function(x){X(f._dbInfo,O,function(R,S){if(R)return w(R);try{var $=S.objectStore(f._dbInfo.storeName);x===null&&(x=void 0);var G=$.put(x,s);S.oncomplete=function(){x===void 0&&(x=null),p(x);},S.onabort=S.onerror=function(){var ne=G.error?G.error:G.transaction.error;w(ne);};}catch(ne){w(ne);}});}).catch(w);});return L(c,l),c}n(Ho,"nr");function zo(s,u){var l=this;s=F(s);var f=new C(function(c,p){l.ready().then(function(){X(l._dbInfo,O,function(w,A){if(w)return p(w);try{var x=A.objectStore(l._dbInfo.storeName),R=x.delete(s);A.oncomplete=function(){c();},A.onerror=function(){p(R.error);},A.onabort=function(){var S=R.error?R.error:R.transaction.error;p(S);};}catch(S){p(S);}});}).catch(p);});return L(f,u),f}n(zo,"or");function Vo(s){var u=this,l=new C(function(f,c){u.ready().then(function(){X(u._dbInfo,O,function(p,w){if(p)return c(p);try{var A=w.objectStore(u._dbInfo.storeName),x=A.clear();w.oncomplete=function(){f();},w.onabort=w.onerror=function(){var R=x.error?x.error:x.transaction.error;c(R);};}catch(R){c(R);}});}).catch(c);});return L(l,s),l}n(Vo,"ir");function Xo(s){var u=this,l=new C(function(f,c){u.ready().then(function(){X(u._dbInfo,Le,function(p,w){if(p)return c(p);try{var A=w.objectStore(u._dbInfo.storeName),x=A.count();x.onsuccess=function(){f(x.result);},x.onerror=function(){c(x.error);};}catch(R){c(R);}});}).catch(c);});return L(l,s),l}n(Xo,"ar");function Qo(s,u){var l=this,f=new C(function(c,p){if(s<0){c(null);return}l.ready().then(function(){X(l._dbInfo,Le,function(w,A){if(w)return p(w);try{var x=A.objectStore(l._dbInfo.storeName),R=!1,S=x.openKeyCursor();S.onsuccess=function(){var $=S.result;if(!$){c(null);return}s===0||R?c($.key):(R=!0,$.advance(s));},S.onerror=function(){p(S.error);};}catch($){p($);}});}).catch(p);});return L(f,u),f}n(Qo,"fr");function Yo(s){var u=this,l=new C(function(f,c){u.ready().then(function(){X(u._dbInfo,Le,function(p,w){if(p)return c(p);try{var A=w.objectStore(u._dbInfo.storeName),x=A.openKeyCursor(),R=[];x.onsuccess=function(){var S=x.result;if(!S){f(R);return}R.push(S.key),S.continue();},x.onerror=function(){c(x.error);};}catch(S){c(S);}});}).catch(c);});return L(l,s),l}n(Yo,"ur");function Jo(s,u){u=re.apply(this,arguments);var l=this.config();s=typeof s!="function"&&s||{},s.name||(s.name=s.name||l.name,s.storeName=s.storeName||l.storeName);var f=this,c;if(!s.name)c=C.reject("Invalid arguments");else {var p=s.name===l.name&&f._dbInfo.db,w=p?C.resolve(f._dbInfo.db):Ne(s).then(function(A){var x=Y[s.name],R=x.forages;x.db=A;for(var S=0;S<R.length;S++)R[S]._dbInfo.db=A;return A});s.storeName?c=w.then(function(A){if(A.objectStoreNames.contains(s.storeName)){var x=A.version+1;le(s);var R=Y[s.name],S=R.forages;A.close();for(var $=0;$<S.length;$++){var G=S[$];G._dbInfo.db=null,G._dbInfo.version=x;}var ne=new C(function(Z,ce){var ae=E.open(s.name,x);ae.onerror=function(ve){var gr=ae.result;gr.close(),ce(ve);},ae.onupgradeneeded=function(){var ve=ae.result;ve.deleteObjectStore(s.storeName);},ae.onsuccess=function(){var ve=ae.result;ve.close(),Z(ve);};});return ne.then(function(Z){R.db=Z;for(var ce=0;ce<S.length;ce++){var ae=S[ce];ae._dbInfo.db=Z,ye(ae._dbInfo);}}).catch(function(Z){throw (we(s,Z)||C.resolve()).catch(function(){}),Z})}}):c=w.then(function(A){le(s);var x=Y[s.name],R=x.forages;A.close();for(var S=0;S<R.length;S++){var $=R[S];$._dbInfo.db=null;}var G=new C(function(ne,Z){var ce=E.deleteDatabase(s.name);ce.onerror=ce.onblocked=function(ae){var ve=ce.result;ve&&ve.close(),Z(ae);},ce.onsuccess=function(){var ae=ce.result;ae&&ae.close(),ne(ae);};});return G.then(function(ne){x.db=ne;for(var Z=0;Z<R.length;Z++){var ce=R[Z];ye(ce._dbInfo);}}).catch(function(ne){throw (we(s,ne)||C.resolve()).catch(function(){}),ne})});}return L(c,u),c}n(Jo,"sr");var Zo={_driver:"asyncStorage",_initStorage:rt,_support:M(),iterate:ht,getItem:Ve,setItem:Ho,removeItem:zo,clear:Vo,length:Xo,key:Qo,keys:Yo,dropInstance:Jo};function ei(){return typeof openDatabase=="function"}n(ei,"lr");var Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ti="~~local_forage_type~",Hr=/^~~local_forage_type~([^~]+)~/,Dt="__lfsc__:",lr=Dt.length,cr="arbf",dr="blob",zr="si08",Vr="ui08",Xr="uic8",Qr="si16",Yr="si32",Jr="ur16",Zr="ui32",en="fl32",tn="fl64",rn=lr+cr.length,nn=Object.prototype.toString;function on(s){var u=s.length*.75,l=s.length,f,c=0,p,w,A,x;s[s.length-1]==="="&&(u--,s[s.length-2]==="="&&u--);var R=new ArrayBuffer(u),S=new Uint8Array(R);for(f=0;f<l;f+=4)p=Be.indexOf(s[f]),w=Be.indexOf(s[f+1]),A=Be.indexOf(s[f+2]),x=Be.indexOf(s[f+3]),S[c++]=p<<2|w>>4,S[c++]=(w&15)<<4|A>>2,S[c++]=(A&3)<<6|x&63;return R}n(on,"He");function fr(s){var u=new Uint8Array(s),l="",f;for(f=0;f<u.length;f+=3)l+=Be[u[f]>>2],l+=Be[(u[f]&3)<<4|u[f+1]>>4],l+=Be[(u[f+1]&15)<<2|u[f+2]>>6],l+=Be[u[f+2]&63];return u.length%3===2?l=l.substring(0,l.length-1)+"=":u.length%3===1&&(l=l.substring(0,l.length-2)+"=="),l}n(fr,"we");function ri(s,u){var l="";if(s&&(l=nn.call(s)),s&&(l==="[object ArrayBuffer]"||s.buffer&&nn.call(s.buffer)==="[object ArrayBuffer]")){var f,c=Dt;s instanceof ArrayBuffer?(f=s,c+=cr):(f=s.buffer,l==="[object Int8Array]"?c+=zr:l==="[object Uint8Array]"?c+=Vr:l==="[object Uint8ClampedArray]"?c+=Xr:l==="[object Int16Array]"?c+=Qr:l==="[object Uint16Array]"?c+=Jr:l==="[object Int32Array]"?c+=Yr:l==="[object Uint32Array]"?c+=Zr:l==="[object Float32Array]"?c+=en:l==="[object Float64Array]"?c+=tn:u(new Error("Failed to get type for BinaryArray"))),u(c+fr(f));}else if(l==="[object Blob]"){var p=new FileReader;p.onload=function(){var w=ti+s.type+"~"+fr(this.result);u(Dt+dr+w);},p.readAsArrayBuffer(s);}else try{u(JSON.stringify(s));}catch(w){console.error("Couldn't convert value into a JSON string: ",s),u(null,w);}}n(ri,"vr");function ni(s){if(s.substring(0,lr)!==Dt)return JSON.parse(s);var u=s.substring(rn),l=s.substring(lr,rn),f;if(l===dr&&Hr.test(u)){var c=u.match(Hr);f=c[1],u=u.substring(c[0].length);}var p=on(u);switch(l){case cr:return p;case dr:return U([p],{type:f});case zr:return new Int8Array(p);case Vr:return new Uint8Array(p);case Xr:return new Uint8ClampedArray(p);case Qr:return new Int16Array(p);case Jr:return new Uint16Array(p);case Yr:return new Int32Array(p);case Zr:return new Uint32Array(p);case en:return new Float32Array(p);case tn:return new Float64Array(p);default:throw new Error("Unkown type: "+l)}}n(ni,"hr");var pr={serialize:ri,deserialize:ni,stringToBuffer:on,bufferToString:fr};function sn(s,u,l,f){s.executeSql("CREATE TABLE IF NOT EXISTS "+u.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],l,f);}n(sn,"Ve");function oi(s){var u=this,l={db:null};if(s)for(var f in s)l[f]=typeof s[f]!="string"?s[f].toString():s[f];var c=new C(function(p,w){try{l.db=openDatabase(l.name,String(l.version),l.description,l.size);}catch(A){return w(A)}l.db.transaction(function(A){sn(A,l,function(){u._dbInfo=l,p();},function(x,R){w(R);});},w);});return l.serializer=pr,c}n(oi,"mr");function qe(s,u,l,f,c,p){s.executeSql(l,f,c,function(w,A){A.code===A.SYNTAX_ERR?w.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[u.storeName],function(x,R){R.rows.length?p(x,A):sn(x,u,function(){x.executeSql(l,f,c,p);},p);},p):p(w,A);},p);}n(qe,"ne");function ii(s,u){var l=this;s=F(s);var f=new C(function(c,p){l.ready().then(function(){var w=l._dbInfo;w.db.transaction(function(A){qe(A,w,"SELECT * FROM "+w.storeName+" WHERE key = ? LIMIT 1",[s],function(x,R){var S=R.rows.length?R.rows.item(0).value:null;S&&(S=w.serializer.deserialize(S)),c(S);},function(x,R){p(R);});});}).catch(p);});return L(f,u),f}n(ii,"yr");function si(s,u){var l=this,f=new C(function(c,p){l.ready().then(function(){var w=l._dbInfo;w.db.transaction(function(A){qe(A,w,"SELECT * FROM "+w.storeName,[],function(x,R){for(var S=R.rows,$=S.length,G=0;G<$;G++){var ne=S.item(G),Z=ne.value;if(Z&&(Z=w.serializer.deserialize(Z)),Z=s(Z,ne.key,G+1),Z!==void 0){c(Z);return}}c();},function(x,R){p(R);});});}).catch(p);});return L(f,u),f}n(si,"pr");function an(s,u,l,f){var c=this;s=F(s);var p=new C(function(w,A){c.ready().then(function(){u===void 0&&(u=null);var x=u,R=c._dbInfo;R.serializer.serialize(u,function(S,$){$?A($):R.db.transaction(function(G){qe(G,R,"INSERT OR REPLACE INTO "+R.storeName+" (key, value) VALUES (?, ?)",[s,S],function(){w(x);},function(ne,Z){A(Z);});},function(G){if(G.code===G.QUOTA_ERR){if(f>0){w(an.apply(c,[s,x,l,f-1]));return}A(G);}});});}).catch(A);});return L(p,l),p}n(an,"Ge");function ai(s,u,l){return an.apply(this,[s,u,l,1])}n(ai,"gr");function ui(s,u){var l=this;s=F(s);var f=new C(function(c,p){l.ready().then(function(){var w=l._dbInfo;w.db.transaction(function(A){qe(A,w,"DELETE FROM "+w.storeName+" WHERE key = ?",[s],function(){c();},function(x,R){p(R);});});}).catch(p);});return L(f,u),f}n(ui,"br");function li(s){var u=this,l=new C(function(f,c){u.ready().then(function(){var p=u._dbInfo;p.db.transaction(function(w){qe(w,p,"DELETE FROM "+p.storeName,[],function(){f();},function(A,x){c(x);});});}).catch(c);});return L(l,s),l}n(li,"_r");function ci(s){var u=this,l=new C(function(f,c){u.ready().then(function(){var p=u._dbInfo;p.db.transaction(function(w){qe(w,p,"SELECT COUNT(key) as c FROM "+p.storeName,[],function(A,x){var R=x.rows.item(0).c;f(R);},function(A,x){c(x);});});}).catch(c);});return L(l,s),l}n(ci,"wr");function di(s,u){var l=this,f=new C(function(c,p){l.ready().then(function(){var w=l._dbInfo;w.db.transaction(function(A){qe(A,w,"SELECT key FROM "+w.storeName+" WHERE id = ? LIMIT 1",[s+1],function(x,R){var S=R.rows.length?R.rows.item(0).key:null;c(S);},function(x,R){p(R);});});}).catch(p);});return L(f,u),f}n(di,"Er");function fi(s){var u=this,l=new C(function(f,c){u.ready().then(function(){var p=u._dbInfo;p.db.transaction(function(w){qe(w,p,"SELECT key FROM "+p.storeName,[],function(A,x){for(var R=[],S=0;S<x.rows.length;S++)R.push(x.rows.item(S).key);f(R);},function(A,x){c(x);});});}).catch(c);});return L(l,s),l}n(fi,"Ir");function pi(s){return new C(function(u,l){s.transaction(function(f){f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,p){for(var w=[],A=0;A<p.rows.length;A++)w.push(p.rows.item(A).name);u({db:s,storeNames:w});},function(c,p){l(p);});},function(f){l(f);});})}n(pi,"Sr");function mi(s,u){u=re.apply(this,arguments);var l=this.config();s=typeof s!="function"&&s||{},s.name||(s.name=s.name||l.name,s.storeName=s.storeName||l.storeName);var f=this,c;return s.name?c=new C(function(p){var w;s.name===l.name?w=f._dbInfo.db:w=openDatabase(s.name,"","",0),s.storeName?p({db:w,storeNames:[s.storeName]}):p(pi(w));}).then(function(p){return new C(function(w,A){p.db.transaction(function(x){function R(ne){return new C(function(Z,ce){x.executeSql("DROP TABLE IF EXISTS "+ne,[],function(){Z();},function(ae,ve){ce(ve);});})}n(R,"l");for(var S=[],$=0,G=p.storeNames.length;$<G;$++)S.push(R(p.storeNames[$]));C.all(S).then(function(){w();}).catch(function(ne){A(ne);});},function(x){A(x);});})}):c=C.reject("Invalid arguments"),L(c,u),c}n(mi,"Ar");var hi={_driver:"webSQLStorage",_initStorage:oi,_support:ei(),iterate:si,getItem:ii,setItem:ai,removeItem:ui,clear:li,length:ci,key:di,keys:fi,dropInstance:mi};function gi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return !1}}n(gi,"Dr");function un(s,u){var l=s.name+"/";return s.storeName!==u.storeName&&(l+=s.storeName+"/"),l}n(un,"je");function yi(){var s="_localforage_support_test";try{return localStorage.setItem(s,!0),localStorage.removeItem(s),!1}catch{return !0}}n(yi,"Nr");function vi(){return !yi()||localStorage.length>0}n(vi,"Tr");function bi(s){var u=this,l={};if(s)for(var f in s)l[f]=s[f];return l.keyPrefix=un(s,u._defaultConfig),vi()?(u._dbInfo=l,l.serializer=pr,C.resolve()):C.reject()}n(bi,"Br");function Ei(s){var u=this,l=u.ready().then(function(){for(var f=u._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var p=localStorage.key(c);p.indexOf(f)===0&&localStorage.removeItem(p);}});return L(l,s),l}n(Ei,"xr");function wi(s,u){var l=this;s=F(s);var f=l.ready().then(function(){var c=l._dbInfo,p=localStorage.getItem(c.keyPrefix+s);return p&&(p=c.serializer.deserialize(p)),p});return L(f,u),f}n(wi,"Or");function Ci(s,u){var l=this,f=l.ready().then(function(){for(var c=l._dbInfo,p=c.keyPrefix,w=p.length,A=localStorage.length,x=1,R=0;R<A;R++){var S=localStorage.key(R);if(S.indexOf(p)===0){var $=localStorage.getItem(S);if($&&($=c.serializer.deserialize($)),$=s($,S.substring(w),x++),$!==void 0)return $}}});return L(f,u),f}n(Ci,"Cr");function Ii(s,u){var l=this,f=l.ready().then(function(){var c=l._dbInfo,p;try{p=localStorage.key(s);}catch{p=null;}return p&&(p=p.substring(c.keyPrefix.length)),p});return L(f,u),f}n(Ii,"Lr");function Ai(s){var u=this,l=u.ready().then(function(){for(var f=u._dbInfo,c=localStorage.length,p=[],w=0;w<c;w++){var A=localStorage.key(w);A.indexOf(f.keyPrefix)===0&&p.push(A.substring(f.keyPrefix.length));}return p});return L(l,s),l}n(Ai,"Pr");function _i(s){var u=this,l=u.keys().then(function(f){return f.length});return L(l,s),l}n(_i,"Mr");function Si(s,u){var l=this;s=F(s);var f=l.ready().then(function(){var c=l._dbInfo;localStorage.removeItem(c.keyPrefix+s);});return L(f,u),f}n(Si,"Fr");function Ri(s,u,l){var f=this;s=F(s);var c=f.ready().then(function(){u===void 0&&(u=null);var p=u;return new C(function(w,A){var x=f._dbInfo;x.serializer.serialize(u,function(R,S){if(S)A(S);else try{localStorage.setItem(x.keyPrefix+s,R),w(p);}catch($){($.name==="QuotaExceededError"||$.name==="NS_ERROR_DOM_QUOTA_REACHED")&&A($),A($);}});})});return L(c,l),c}n(Ri,"Ur");function xi(s,u){if(u=re.apply(this,arguments),s=typeof s!="function"&&s||{},!s.name){var l=this.config();s.name=s.name||l.name,s.storeName=s.storeName||l.storeName;}var f=this,c;return s.name?c=new C(function(p){s.storeName?p(un(s,f._defaultConfig)):p(s.name+"/");}).then(function(p){for(var w=localStorage.length-1;w>=0;w--){var A=localStorage.key(w);A.indexOf(p)===0&&localStorage.removeItem(A);}}):c=C.reject("Invalid arguments"),L(c,u),c}n(xi,"Yr");var Ni={_driver:"localStorageWrapper",_initStorage:bi,_support:gi(),iterate:Ci,getItem:wi,setItem:Ri,removeItem:Si,clear:Ei,length:_i,key:Ii,keys:Ai,dropInstance:xi},Ti=n(function(s,u){return s===u||typeof s=="number"&&typeof u=="number"&&isNaN(s)&&isNaN(u)},"Wr"),Mi=n(function(s,u){for(var l=s.length,f=0;f<l;){if(Ti(s[f],u))return !0;f++;}return !1},"Kr"),ln=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"},gt={},cn={},nt={INDEXEDDB:Zo,WEBSQL:hi,LOCALSTORAGE:Ni},Oi=[nt.INDEXEDDB._driver,nt.WEBSQL._driver,nt.LOCALSTORAGE._driver],jt=["dropInstance"],mr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(jt),Li={description:"",driver:Oi.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Pi(s,u){s[u]=function(){var l=arguments;return s.ready().then(function(){return s[u].apply(s,l)})};}n(Pi,"Gr");function hr(){for(var s=1;s<arguments.length;s++){var u=arguments[s];if(u)for(var l in u)u.hasOwnProperty(l)&&(ln(u[l])?arguments[0][l]=u[l].slice():arguments[0][l]=u[l]);}return arguments[0]}n(hr,"Se");var ki=function(){function s(u){h(this,s);for(var l in nt)if(nt.hasOwnProperty(l)){var f=nt[l],c=f._driver;this[l]=c,gt[c]||this.defineDriver(f);}this._defaultConfig=hr({},Li),this._config=hr({},this._defaultConfig,u),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){});}return n(s,"e"),s.prototype.config=function(u){if((typeof u>"u"?"undefined":g(u))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var l in u){if(l==="storeName"&&(u[l]=u[l].replace(/\W/g,"_")),l==="version"&&typeof u[l]!="number")return new Error("Database version must be a number.");this._config[l]=u[l];}return "driver"in u&&u.driver?this.setDriver(this._config.driver):!0}else return typeof u=="string"?this._config[u]:this._config},s.prototype.defineDriver=function(u,l,f){var c=new C(function(p,w){try{var A=u._driver,x=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!u._driver){w(x);return}for(var R=mr.concat("_initStorage"),S=0,$=R.length;S<$;S++){var G=R[S],ne=!Mi(jt,G);if((ne||u[G])&&typeof u[G]!="function"){w(x);return}}var Z=n(function(){for(var ae=function(Di){return function(){var ji=new Error("Method "+Di+" is not implemented by the current driver"),dn=C.reject(ji);return L(dn,arguments[arguments.length-1]),dn}},ve=0,gr=jt.length;ve<gr;ve++){var yr=jt[ve];u[yr]||(u[yr]=ae(yr));}},"V");Z();var ce=n(function(ae){gt[A]&&console.info("Redefining LocalForage driver: "+A),gt[A]=u,cn[A]=ae,p();},"W");"_support"in u?u._support&&typeof u._support=="function"?u._support().then(ce,w):ce(!!u._support):ce(!0);}catch(ae){w(ae);}});return _(c,l,f),c},s.prototype.driver=function(){return this._driver||null},s.prototype.getDriver=function(u,l,f){var c=gt[u]?C.resolve(gt[u]):C.reject(new Error("Driver not found."));return _(c,l,f),c},s.prototype.getSerializer=function(u){var l=C.resolve(pr);return _(l,u),l},s.prototype.ready=function(u){var l=this,f=l._driverSet.then(function(){return l._ready===null&&(l._ready=l._initDriver()),l._ready});return _(f,u,u),f},s.prototype.setDriver=function(u,l,f){var c=this;ln(u)||(u=[u]);var p=this._getSupportedDrivers(u);function w(){c._config.driver=c.driver();}n(w,"u");function A(S){return c._extend(S),w(),c._ready=c._initStorage(c._config),c._ready}n(A,"c");function x(S){return function(){var $=0;function G(){for(;$<S.length;){var ne=S[$];return $++,c._dbInfo=null,c._ready=null,c.getDriver(ne).then(A).catch(G)}w();var Z=new Error("No available storage method found.");return c._driverSet=C.reject(Z),c._driverSet}return n(G,"T"),G()}}n(x,"l");var R=this._driverSet!==null?this._driverSet.catch(function(){return C.resolve()}):C.resolve();return this._driverSet=R.then(function(){var S=p[0];return c._dbInfo=null,c._ready=null,c.getDriver(S).then(function($){c._driver=$._driver,w(),c._wrapLibraryMethodsWithReady(),c._initDriver=x(p);})}).catch(function(){w();var S=new Error("No available storage method found.");return c._driverSet=C.reject(S),c._driverSet}),_(this._driverSet,l,f),this._driverSet},s.prototype.supports=function(u){return !!cn[u]},s.prototype._extend=function(u){hr(this,u);},s.prototype._getSupportedDrivers=function(u){for(var l=[],f=0,c=u.length;f<c;f++){var p=u[f];this.supports(p)&&l.push(p);}return l},s.prototype._wrapLibraryMethodsWithReady=function(){for(var u=0,l=mr.length;u<l;u++)Pi(this,mr[u]);},s.prototype.createInstance=function(u){return new s(u)},s}(),$i=new ki;d.exports=$i;},{3:3}]},{},[4])(4)});}),Wa=Jn((e,t)=>{(function(r,o){typeof e=="object"&&typeof t<"u"?o(e):typeof define=="function"&&define.amd?define("localforage-driver-memory",["exports"],o):o(r.LocalforageDriverMemory={});})(typeof self<"u"?self:e,function(r){var o="localforage-driver-memory";function i(v){var I=typeof Symbol=="function"&&v[Symbol.iterator],N=0;return I?I.call(v):{next:function(){return v&&N>=v.length&&(v=void 0),{value:v&&v[N++],done:!v}}}}n(i,"O");function a(v,I){v=v||[],I=I||{};try{return new Blob(v,I)}catch(B){if(B.name!=="TypeError")throw B;for(var N=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,D=new N,j=0;j<v.length;j+=1)D.append(v[j]);return D.getBlob(I.type)}}n(a,"L");var d=/^~~local_forage_type~([^~]+)~/,m=9,g=m+4,h=Object.prototype.toString;function y(v){var I=v.length*.75,N=v.length;v[v.length-1]==="="&&(I--,v[v.length-2]==="="&&I--);for(var D=new ArrayBuffer(I),j=new Uint8Array(D),B=0,X=0;B<N;B+=4){var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[B]),rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[B+1]),Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[B+2]),ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[B+3]);j[X++]=fe<<2|rt>>4,j[X++]=(rt&15)<<4|Ve>>2,j[X++]=(Ve&3)<<6|ht&63;}return D}n(y,"S");function E(v){for(var I=new Uint8Array(v),N="",D=0;D<I.length;D+=3)N+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[I[D]>>2],N+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(I[D]&3)<<4|I[D+1]>>4],N+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(I[D+1]&15)<<2|I[D+2]>>6],N+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[I[D+2]&63];return I.length%3===2?N=N.substring(0,N.length-1)+"=":I.length%3===1&&(N=N.substring(0,N.length-2)+"=="),N}n(E,"P");function M(v,I){var N="";if(v&&(N=h.call(v)),v&&(N==="[object ArrayBuffer]"||v.buffer&&h.call(v.buffer)==="[object ArrayBuffer]")){var D=void 0,j="__lfsc__:";v instanceof ArrayBuffer?(D=v,j+="arbf"):(D=v.buffer,N==="[object Int8Array]"?j+="si08":N==="[object Uint8Array]"?j+="ui08":N==="[object Uint8ClampedArray]"?j+="uic8":N==="[object Int16Array]"?j+="si16":N==="[object Uint16Array]"?j+="ur16":N==="[object Int32Array]"?j+="si32":N==="[object Uint32Array]"?j+="ui32":N==="[object Float32Array]"?j+="fl32":N==="[object Float64Array]"?j+="fl64":I(new Error("Failed to get type for BinaryArray"))),I(j+E(D));}else if(N==="[object Blob]"){var B=new FileReader;B.onload=function(){var X="~~local_forage_type~"+v.type+"~"+E(this.result);I("__lfsc__:blob"+X);},B.readAsArrayBuffer(v);}else try{I(JSON.stringify(v));}catch(X){console.error("Couldn't convert value into a JSON string: ",v),I(null,X);}}n(M,"K");function U(v){if(v.substring(0,m)!=="__lfsc__:")return JSON.parse(v);var I=v.substring(g),N=v.substring(m,g),D;if(N==="blob"&&d.test(I)){var j=I.match(d);D=j[1],I=I.substring(j[0].length);}var B=y(I);switch(N){case"arbf":return B;case"blob":return a([B],{type:D});case"si08":return new Int8Array(B);case"ui08":return new Uint8Array(B);case"uic8":return new Uint8ClampedArray(B);case"si16":return new Int16Array(B);case"ur16":return new Uint16Array(B);case"si32":return new Int32Array(B);case"ui32":return new Uint32Array(B);case"fl32":return new Float32Array(B);case"fl64":return new Float64Array(B);default:throw new Error("Unkown type: "+N)}}n(U,"Z");function C(v){var I,N;if(v===null||typeof v!="object"||"isActiveClone"in v)return v;var D=v instanceof Date?new Date(v):v.constructor();try{for(var j=i(Object.keys(v)),B=j.next();!B.done;B=j.next()){var X=B.value;Object.prototype.hasOwnProperty.call(v,X)&&(v.isActiveClone=null,D[X]=C(v[X]),delete v.isActiveClone);}}catch(fe){I={error:fe};}finally{try{B&&!B.done&&(N=j.return)&&N.call(j);}finally{if(I)throw I.error}}return D}n(C,"m");function L(v,I){return (v.name||I.name)+"/"+(v.storeName||I.storeName)+"/"}n(L,"w");function _(v,I){I&&v.then(function(N){I(null,N);},function(N){I(N);});}n(_,"N");function F(){for(var v=[],I=0;I<arguments.length;I++)v[I]=arguments[I];if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}n(F,"z");function re(v,I){var N=this;if(I=F.apply(this,arguments),v=typeof v!="function"&&v||{},!v.name){var D=this.config();v.name=v.name||D.name,v.storeName=v.storeName||D.storeName;}var j;return v.name?j=new Promise(function(B){v.storeName?B(L(v,N._defaultConfig)):B(v.name+"/");}):j=Promise.reject("Invalid arguments"),{promise:j,callback:I}}n(re,"q");function T(v){return typeof v!="string"&&(console.warn(v+" used as a key, but it is not a string."),v=String(v)),v}n(T,"F");var de={bufferToString:E,deserialize:U,serialize:M,stringToBuffer:y},Y={},tt=function(){function v(I){this.kp=I,this.data={};}return n(v,"a"),v.resolve=function(I){return Y[I]||(Y[I]=new v(I)),Y[I]},v.prototype.clear=function(){this.data={};},v.prototype.drop=function(){this.clear(),delete Y[this.kp];},v.prototype.get=function(I){return this.data[I]},v.prototype.key=function(I){return this.keys()[I]},v.prototype.keys=function(){return Object.keys(this.data)},v.prototype.rm=function(I){delete this.data[I];},v.prototype.set=function(I,N){this.data[I]=N;},v}();function Le(v){var I=v?C(v):{},N=L(I,this._defaultConfig),D=tt.resolve(N);return this._dbInfo=I,this._dbInfo.serializer=de,this._dbInfo.keyPrefix=N,this._dbInfo.mStore=D,Promise.resolve()}n(Le,"re");function O(v){var I=this,N=this.ready().then(function(){I._dbInfo.mStore.clear();});return _(N,v),N}n(O,"h");function V(v,I){var N=re.apply(this,arguments),D=N.promise,j=N.callback,B=D.then(function(X){tt.resolve(X).drop();});return _(B,j),D}n(V,"R");function W(v,I){var N=this;v=T(v);var D=this.ready().then(function(){var j=N._dbInfo.mStore.get(v);return j==null?null:N._dbInfo.serializer.deserialize(j)});return _(D,I),D}n(W,"I");function J(v,I){var N=this,D=this.ready().then(function(){for(var j=N._dbInfo.mStore,B=j.keys(),X=0;X<B.length;X++){var fe=j.get(B[X]);if(fe&&(fe=N._dbInfo.serializer.deserialize(fe)),fe=v(fe,B[X],X+1),fe!==void 0)return fe}});return _(D,I),D}n(J,"B");function le(v,I){var N=this,D=this.ready().then(function(){var j;try{j=N._dbInfo.mStore.key(v),j===void 0&&(j=null);}catch{j=null;}return j});return _(D,I),D}n(le,"H");function ye(v){var I=this,N=this.ready().then(function(){return I._dbInfo.mStore.keys()});return _(N,v),N}n(ye,"j");function we(v){var I=this.keys().then(function(N){return N.length});return _(I,v),I}n(we,"J");function Ce(v,I){var N=this;v=T(v);var D=this.ready().then(function(){N._dbInfo.mStore.rm(v);});return _(D,I),D}n(Ce,"$");function Ne(v,I,N){var D=this;v=T(v);var j=this.ready().then(function(){I===void 0&&(I=null);var B=I;return new Promise(function(X,fe){D._dbInfo.serializer.serialize(I,function(rt,Ve){if(Ve)fe(Ve);else try{D._dbInfo.mStore.set(v,rt),X(B);}catch(ht){fe(ht);}});})});return _(j,N),j}n(Ne,"ee");var ze=!0;r._support=ze,r._driver=o,r._initStorage=Le,r.clear=O,r.dropInstance=V,r.getItem=W,r.iterate=J,r.key=le,r.keys=ye,r.length=we,r.removeItem=Ce,r.setItem=Ne,Object.defineProperty(r,"__esModule",{value:!0});});}),Rr=Zn(qa()),Yn=Zn(Wa()),Ga={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",zIndex:"2147483647"};n(Ka,"ut");n(Ha,"st");za=n(class extends Xn{constructor(){super(...arguments),this.activeElement=null;}init(){this.test="hello",this.iframe=new Promise(e=>{let t=n(()=>{if(Ha(encodeURIComponent(this.parameters)))Dn().log();else {let r=document.createElement("iframe");r.classList.add("magic-iframe"),r.dataset.magicIframeLabel=_t(this.endpoint).host,r.title="Secure Modal",r.src=_t(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href,Ka(r),document.body.appendChild(r),e(r);}},"O");["loaded","interactive","complete"].includes(document.readyState)?t():window.addEventListener("load",t,!1);}),window.addEventListener("message",e=>{var t;if(e.origin===this.endpoint&&e.data&&e.data.msgType&&this.messageHandlers.size){e.data.response=(t=e.data.response)!=null?t:{};for(let r of this.messageHandlers.values())r(e);}});}showOverlay(){return Jt(this,null,function*(){let e=yield this.iframe;e.style.display="block",this.activeElement=document.activeElement,e.focus();})}hideOverlay(){return Jt(this,null,function*(){var e;let t=yield this.iframe;t.style.display="none",(e=this.activeElement)!=null&&e.focus&&this.activeElement.focus(),this.activeElement=null;})}_post(e){return Jt(this,null,function*(){let t=yield this.iframe;if(t&&t.contentWindow)t.contentWindow.postMessage(e,this.endpoint);else throw $n()})}},"Te"),Va=kn(Sr,{platform:"web",sdkName:"magic-sdk",version:"8.1.1",defaultEndpoint:"https://auth.magic.link/",ViewController:za,configureStorage:()=>Jt(void 0,null,function*(){let e=Rr.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return yield e.defineDriver(Yn),yield e.setDriver([Rr.default.INDEXEDDB,Rr.default.LOCALSTORAGE,Yn._driver]),e})});});b();b();b();var pn={[browser.ChainId.Mainnet]:"https://safe-transaction.mainnet.gnosis.io",[browser.ChainId.Avalanche]:"https://safe-transaction.avalanche.gnosis.io",[browser.ChainId.Polygon]:"https://safe-transaction.polygon.gnosis.io",[browser.ChainId.Goerli]:"https://safe-transaction.goerli.gnosis.io",[browser.ChainId.Rinkeby]:"https://safe-transaction.rinkeby.gnosis.io"},mn=typeof window>"u",Qe=class extends wagmi.Connector{id="gnosis";ready=mn;name="Gnosis Safe";constructor(t){var r;t.chains=(r=t.chains)==null?void 0:r.filter(o=>o.id in pn),super({...t,options:void 0}),mn||(this.ready=!0);}async connect(){this.safeSigner=await this.createSafeSigner();let t=await this.getAccount(),r=await this.getProvider(),o=await this.getChainId();return {account:t,provider:r,chain:{id:o,unsupported:this.isChainUnsupported(o)}}}async createSafeSigner(){var M,U,C;let t=await((M=this.previousConnector)==null?void 0:M.getSigner()),r=(U=this.config)==null?void 0:U.safeAddress,o=(C=this.config)==null?void 0:C.safeChainId;Q__default["default"](t,"cannot create Gnosis Safe signer without a personal signer");let i=await t.getChainId();Q__default["default"](i===o,"chainId of personal signer has to match safe chainId"),Q__default["default"](r,"safeConfig.safeAddress is required, did you forget to call setSafeConfig?"),Q__default["default"](o,"safeConfig.safeChainId is required, did you forget to call setSafeConfig?");let a=pn[o];Q__default["default"](a,"Chain not supported");let[d,m,g]=await Promise.all([Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('@gnosis.pm/safe-ethers-adapters')); }),Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('@gnosis.pm/safe-core-sdk')); }),Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('@gnosis.pm/safe-ethers-lib')); })]),h=new g.default.default({ethers:ethers.ethers,signer:t}),y=await m.default.default.create({ethAdapter:h,safeAddress:r}),E=new d.SafeService(a);return new d.SafeEthersSigner(y,E,t.provider)}async disconnect(){this.config=void 0,this.safeSigner=void 0,this.previousConnector=void 0;}async getAccount(){return await(await this.getSigner()).getAddress()}async getChainId(){return (await this.getSigner()).getChainId()}async getProvider(){return (await this.getSigner()).provider}async getSigner(){return this.safeSigner||(this.safeSigner=await this.createSafeSigner()),this.safeSigner}async isAuthorized(){try{return !!await this.getAccount()}catch{return !1}}onAccountsChanged(t){t.length===0?this.emit("disconnect"):this.emit("change",{account:ethers.utils.getAddress(t[0])});}isChainUnsupported(t){var r;return (r=this.config)!=null&&r.safeChainId?t===this.config.safeChainId:!1}onChainChanged(t){let r=wagmi.normalizeChainId(t),o=this.isChainUnsupported(r);this.emit("change",{chain:{id:r,unsupported:o}});}onDisconnect(){this.emit("disconnect");}setConfiguration(t,r){this.previousConnector=t,this.config=r;}};n(Qe,"GnosisSafeConnector");b();var Tr=typeof window>"u",Mr="--magic-link:configuration",Tt=class extends wagmi.Connector{id="magic";name="Magic";ready=Tr;getConfiguration(){if(Tr)return;let t=window.localStorage.getItem(Mr);return t&&(this.configuration=JSON.parse(t)),this.configuration}constructor(t){if(super({...t,options:t==null?void 0:t.options}),this.options=t.options,!Tr){if(this.ready=!0,this.options.doNotAutoConnect||!this.getConfiguration())return;this.connect(!0);}}async connect(t){let{apiKey:r,doNotAutoConnect:o,rpcUrls:i,...a}=this.options,d=this.getConfiguration();try{return Q__default["default"](d,"did you forget to set the configuration via: setConfiguration()?"),t&&(d.showUI=!1),Promise.resolve().then(()=>(to(),eo)).then(async m=>{this.magic=new m.Magic(r,a),await this.magic.auth.loginWithMagicLink(d);let g=this.getProvider();g.on&&(g.on("accountsChanged",this.onAccountsChanged),g.on("chainChanged",this.onChainChanged),g.on("disconnect",this.onDisconnect));let h=await this.getAccount(),y=await this.getChainId();return {account:h,provider:g,chain:{id:y,unsupported:this.isChainUnsupported(y)}}})}catch(m){if(!t)throw m;return {account:void 0,provider:void 0,chain:void 0}}}async disconnect(){let t=this.getProvider();t!=null&&t.removeListener&&(t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect)),this.setConfiguration(void 0);}async switchChain(t){Q__default["default"](!this.isChainUnsupported(t),"chain is not supported");let r=this.getProvider();return r!=null&&r.removeListener&&(r.removeListener("accountsChanged",this.onAccountsChanged),r.removeListener("chainChanged",this.onChainChanged),r.removeListener("disconnect",this.onDisconnect)),this.options.network={chainId:t,rpcUrl:this.options.rpcUrls[t]},await this.connect(),this.onChainChanged(t),this.chains.find(o=>o.id===t)}async getAccount(){return await(await this.getSigner()).getAddress()}async getChainId(){return await(await this.getSigner()).getChainId()}getProvider(){return Q__default["default"](this.magic,"connector is not initialized"),new ethers.providers.Web3Provider(this.magic.rpcProvider)}async getSigner(){return this.magic||await this.connect(),this.getProvider().getSigner()}async isAuthorized(){try{return !!await this.getAccount()}catch{return !1}}onAccountsChanged(t){t.length===0?this.emit("disconnect"):this.emit("change",{account:ethers.utils.getAddress(t[0])});}isChainUnsupported(t){return !this.chains.some(r=>r.id===t)}onChainChanged(t){let r=wagmi.normalizeChainId(t),o=this.isChainUnsupported(r);this.emit("change",{chain:{id:r,unsupported:o}});}onDisconnect(){this.emit("disconnect");}setConfiguration(t){t?(this.configuration=t,window.localStorage.setItem(Mr,JSON.stringify(t))):(this.configuration=void 0,window.localStorage.removeItem(Mr));}};n(Tt,"MagicConnector");b();var Za={mainnet:{id:browser.ChainId.Mainnet,name:"Ethereum Mainnet",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Mainnet],rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},rinkeby:{id:browser.ChainId.Rinkeby,name:"Rinkeby",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Rinkeby],rpcUrls:["https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://rinkeby.etherscan.io"}],testnet:!0},goerli:{id:browser.ChainId.Goerli,name:"Goerli",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Goerli],rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},polygonMainnet:{id:browser.ChainId.Polygon,name:"Polygon Mainnet",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Polygon],rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:browser.ChainId.Mumbai,name:"Mumbai",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Mumbai],rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}],testnet:!0},avalanche:{id:browser.ChainId.Avalanche,name:"Avalanche",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Avalanche],rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://rpc.ankr.com/avalanche"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io/"}],testnet:!1},avalancheFujiTestnet:{id:browser.ChainId.AvalancheFujiTestnet,name:"Avalanche Fuji Testnet",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.AvalancheFujiTestnet],rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io/"}],testnet:!0},fantom:{id:browser.ChainId.Fantom,name:"Fantom Opera",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Fantom],rpcUrls:["https://rpc.ftm.tools"],blockExplorers:[{name:"FTMscan",url:"https://ftmscan.com/"}],testnet:!1},fantomTestnet:{id:browser.ChainId.FantomTestnet,name:"Fantom Testnet",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.FantomTestnet],rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorers:[{name:"FTMscan",url:"https://testnet.ftmscan.com/"}],testnet:!1},optimism:{id:browser.ChainId.Optimism,name:"Optimism",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Optimism],rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io/"}],testnet:!1},optimismTestnet:{id:browser.ChainId.OptimismTestnet,name:"Optimism Kovan",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.OptimismTestnet],rpcUrls:["https://kovan.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://kovan-optimistic.etherscan.io/"}],testnet:!0},arbitrum:{id:browser.ChainId.Arbitrum,name:"Arbitrum One",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.Arbitrum],rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io/"}],testnet:!1},arbitrumTestnet:{id:browser.ChainId.ArbitrumTestnet,name:"Arbitrum Rinkeby",nativeCurrency:sdk.NATIVE_TOKENS[browser.ChainId.ArbitrumTestnet],rpcUrls:["https://rinkeby.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://testnet.arbiscan.io/"}],testnet:!0}},Mt=Object.values(Za);b();var ro=z.createContext(void 0),no=n(({value:e,children:t})=>{let r=z.useMemo(()=>e?{...e,authUrl:e.authUrl.replace(/\/$/,"")}:void 0,[e]);return z__default["default"].createElement(ro.Provider,{value:r},t)},"ThirdwebAuthConfigProvider");function ct(){return z.useContext(ro)}n(ct,"useThirdwebAuthConfig");b();var Or={[browser.ChainId.Mainnet]:"mainnet",[browser.ChainId.Rinkeby]:"rinkeby",[browser.ChainId.Goerli]:"goerli",[browser.ChainId.Polygon]:"polygon",[browser.ChainId.Mumbai]:"mumbai",[browser.ChainId.Fantom]:"fantom",[browser.ChainId.Avalanche]:"avalanche"},oo=z.createContext({rpcUrlMap:Or,supportedChains:Mt}),io=n(({value:e,children:t})=>z__default["default"].createElement(oo.Provider,{value:e},t),"ThirdwebConfigProvider");function so(){return z.useContext(oo)}n(so,"useThirdwebConfigContext");b();function Zt(){var h,y,E,M,U;let[e,t]=wagmi.useSigner(),[r]=wagmi.useAccount(),[o]=wagmi.useNetwork(),i=z.useRef(null),a=(h=r.data)==null?void 0:h.address,d=(y=o.data.chain)==null?void 0:y.id,m=ao((E=r.data)==null?void 0:E.address),g=ao((U=(M=o.data)==null?void 0:M.chain)==null?void 0:U.id);return z.useEffect(()=>{if(a!==m||d!==g)if(i.current)i.current=t().finally(()=>{i.current=null;});else return},[a,d,m,g]),ethers.Signer.isSigner(e.data)?e.data:void 0}n(Zt,"useSigner");function ao(e){let t=z.useRef();return z.useEffect(()=>{t.current=e;},[e]),t.current}n(ao,"usePrevious");function er(){return er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},er.apply(this,arguments)}n(er,"_extends");var Cu={name:"thirdweb powered dApp"},Iu=["metamask","walletConnect","walletLink"],Pc=n(({sdkOptions:e,chainRpc:t=Or,supportedChains:r=Mt.map(E=>E.id),walletConnectors:o=Iu,dAppMeta:i=Cu,desiredChainId:a,authConfig:d,storageInterface:m,queryClient:g,autoConnect:h=!0,children:y})=>{let E=z.useMemo(()=>r.map(_=>typeof _=="number"?Mt.find(F=>F.id===_):_).filter(_=>_!==void 0),[r]),M=z.useMemo(()=>E.reduce((_,F)=>(_[F.id]=F.id in t?browser.getProviderForNetwork(t[F.id]||F.rpcUrls[0]):F.rpcUrls[0],_),{}),[t,E]),U=z.useMemo(()=>{let _={name:i.name,url:i.url||"",icons:[i.logoUrl||""],description:i.description||""},F={appName:i.name,appLogoUrl:i.logoUrl,darkMode:i.isDarkMode};return {autoConnect:h,connectorStorageKey:"tw:provider:connectors",connectors:({chainId:re})=>o.map(T=>{if(typeof T=="string"&&(T==="injected"||T==="metamask")||typeof T=="object"&&(T.name==="injected"||T.name==="metamask"))return new injected.InjectedConnector({options:typeof T=="string"?{shimDisconnect:!0,shimChainChangedDisconnect:!0}:T.options,chains:E});if(typeof T=="string"&&T==="walletConnect"||typeof T=="object"&&T.name==="walletConnect")return new walletConnect.WalletConnectConnector({options:typeof T=="string"?{chainId:re,rpc:M,clientMeta:_,qrcode:!0}:{chainId:re,rpc:M,clientMeta:_,qrcode:!0,...T.options},chains:E});if(typeof T=="string"&&(T==="coinbase"||T==="walletLink")||typeof T=="object"&&(T.name==="coinbase"||T.name==="walletLink")){let de=M[re||a||1];return new coinbaseWallet.CoinbaseWalletConnector({chains:E,options:typeof T=="string"?{...F,jsonRpcUrl:de}:{...F,jsonRpcUrl:de,...T.options}})}if(typeof T=="object"&&T.name==="magic"){let de=M[re||a||1];return new Tt({chains:E,options:{...T.options,network:{rpcUrl:de,chainId:a||1},rpcUrls:M}})}return typeof T=="string"&&T==="gnosis"||typeof T=="object"&&T.name==="gnosis"?new Qe({chains:E}):null}).filter(T=>T!==null)}},[o,E,i]),C=z.useMemo(()=>{var F,re;if(((F=e==null?void 0:e.readonlySettings)==null?void 0:F.rpcUrl)&&((re=e==null?void 0:e.readonlySettings)==null?void 0:re.chainId))return e.readonlySettings;if(!a)return;let _=M[a];try{_=browser.getProviderForNetwork(_);}catch{console.error(`failed to configure rpc url for chain: "${a}". Did you forget to pass "desiredChainId" to the <ThirdwebProvider /> component?`);return}return {chainId:a,rpcUrl:_}},[M,a]),L=z.useMemo(()=>({...e,readonlySettings:C}),[e,C]);return z__default["default"].createElement(io,{value:{rpcUrlMap:M,supportedChains:E}},z__default["default"].createElement(wagmi.WagmiProvider,er({},U),z__default["default"].createElement(Au,{queryClient:g,desiredChainId:a,sdkOptions:L,storageInterface:m,authConfig:d},y)))},"ThirdwebProvider"),Au=n(({children:e,...t})=>{let r=wagmi.useProvider(),o=Zt();return z__default["default"].createElement(_u,er({signer:o,provider:r},t),e)},"ThirdwebSDKProviderWagmiWrapper"),fo=z.createContext({desiredChainId:-1}),_u=n(({sdkOptions:e,desiredChainId:t,storageInterface:r,provider:o,signer:i,queryClient:a,authConfig:d,children:m})=>{let g=z.useMemo(()=>a||new reactQuery.QueryClient,[a]),h=z.useMemo(()=>{if(!t||typeof window>"u")return;let E=new browser.ThirdwebSDK(o,e,r);return E._chainId=t,E},[o,e,r,t]);z.useEffect(()=>{i&&h&&h._chainId===t&&h.updateSignerOrProvider(i);},[i,h,t]);let y=z.useMemo(()=>({sdk:h,desiredChainId:t||-1,_inProvider:!0}),[h]);return z__default["default"].createElement(no,{value:d},z__default["default"].createElement(reactQuery.QueryClientProvider,{client:g},z__default["default"].createElement(fo.Provider,{value:y},m)))},"ThirdwebSDKProvider");function po(){let e=z__default["default"].useContext(fo);return Q__default["default"](e._inProvider,"useSDK must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),e}n(po,"useSDKContext");function _e(){let{sdk:e}=po();return e}n(_e,"useSDK");function mo(){let{desiredChainId:e}=po();return e}n(mo,"useDesiredChainId");function K(){let e=_e();return e==null?void 0:e._chainId}n(K,"useActiveChainId");b();b();b();var ho="tw-cache";function Ot(e){return e[0]===ho?e:[ho,...e]}n(Ot,"createCachekey");function H(e=ethers.constants.AddressZero,t=[]){return Ot(["contract",e,...t])}n(H,"createContractCacheKey");function Se(e,t){return k.network.active(t).concat(e)}n(Se,"createCacheKeyWithNetwork");function te(e,t,r){return Promise.all([e.invalidateQueries(Se(H(t),r)),e.invalidateQueries(Se(Ot(["balance"]),r))])}n(te,"invalidateContractAndBalances");var k={auth:{user:()=>Ot(["user"])},network:{active:e=>Ot(["chainId",e])},wallet:{balance:(e,t,r)=>Se(Ot(["balance",{walletAddress:t,tokenAddress:r}]),e)},contract:{type:e=>H(e,["contract-type"]),compilerMetadata:e=>H(e,["publish-metadata"]),typeAndCompilerMetadata:e=>H(e,["contract-type-and-metadata"]),metadata:e=>H(e,["metadata"]),extractFunctions:e=>H(e,["extractFunctions"]),call:(e,t,r)=>H(e,["call",t,r]),events:{getEvents:(e,t)=>H(e,["events","getEvents",{eventName:t}]),getAllEvents:e=>H(e,["events","getAllEvents"])},nft:{get:(e,t)=>H(e,["get",{tokenId:t}]),balanceOf:(e,t,r)=>H(e,["balanceOf",{owner:t,tokenId:r}]),query:{all:(e,t)=>H(e,t?["query","all",t]:["query","all"]),totalCirculatingSupply:e=>H(e,["query","totalCirculatingSupply"]),totalCount:e=>H(e,["query","totalCount"]),owned:{all:(e,t)=>H(e,["query","owned","all",t])}},drop:{getAllUnclaimed:(e,t)=>H(e,t?["getAllUnclaimed",t]:["getAllUnclaimed"]),totalUnclaimedSupply:e=>H(e,["totalUnclaimedSupply"]),totalClaimedSupply:e=>H(e,["totalClaimedSupply"])}},token:{totalSupply:e=>H(e,["totalSupply"]),balanceOf:(e,t)=>H(e,["balanceOf",{walletAddress:t}])},marketplace:{getListing:(e,t)=>H(e,["getListing",{listingId:t}]),getAllListings:(e,t)=>H(e,t?["getAllListings",t]:["getAllListings"]),getActiveListings:(e,t)=>H(e,t?["getActiveListings",t]:["getActiveListings"]),getBidBufferBps:e=>H(e,["getBidBufferBps"]),auction:{getWinningBid:(e,t)=>H(e,["auction","getWinningBid",{listingId:t}]),getWinner:(e,t)=>H(e,["auction","getWinner",{listingId:t}])}}},extensions:{claimConditions:{getActive:(e,t)=>H(e,t?["claimConditions","getActive",{tokenId:t}]:["claimConditions","getActive"]),getAll:(e,t)=>H(e,t?["claimConditions","getAll",{tokenId:t}]:["claimConditions","getAll"]),getClaimIneligibilityReasons:(e,t,r)=>H(e,r?["claimConditions","getIneligibilityReasons",{tokenId:r},t]:["claimConditions","getIneligibilityReasons",t])},sales:{getRecipient:e=>H(e,["sales"])},royalties:{getDefaultRoyaltyInfo:e=>H(e,["royalties"])},platformFees:{get:e=>H(e,["platformFees"])},metadata:{get:e=>H(e,["metadata"])},roles:{getAll:e=>H(e,["roles"]),get:(e,t)=>H(e,["roles",{role:t}])}}};function Gc(e){let t=_e(),r=reactQuery.useQueryClient(),o=ct();z__default["default"].useEffect(()=>{let d=new URLSearchParams(window.location.search).get("error");d&&(e==null?void 0:e.onError)&&e.onError(decodeURI(d));},[e==null?void 0:e.onError]);async function i(a){Q__default["default"](o,"Please specify an authConfig in the ThirdwebProvider");let d=await(t==null?void 0:t.auth.login(o.domain,a)),m=encodeURIComponent(btoa(JSON.stringify(d))),g=encodeURIComponent((e==null?void 0:e.redirectTo)||o.loginRedirect||window.location.toString());r.invalidateQueries(k.auth.user()),window.location.href=`${o.authUrl}/login?payload=${m}&redirect=${g}`;}return n(i,"login"),i}n(Gc,"useLogin");b();function Qc(){let e=reactQuery.useQueryClient(),t=ct();function r(){Q__default["default"](t,"Please specify an authConfig in the ThirdwebProvider"),e.invalidateQueries(k.auth.user()),window.location.href=`${t.authUrl}/logout`;}return n(r,"logout"),r}n(Qc,"useLogout");b();function rd(){let e=ct(),{data:t,isLoading:r}=reactQuery.useQuery(k.auth.user(),async()=>(Q__default["default"](e,"Please specify an authConfig in the ThirdwebProvider"),await(await fetch(`${e.authUrl}/user`)).json()));return {user:t,isLoading:r}}n(rd,"useUser");b();b();b();function se(e,t){let r=_e();if(!(!r||!t||!e))return r.getBuiltInContract(t,e)}n(se,"useBuiltinContract");function dd(e){return se("edition-drop",e)}n(dd,"useEditionDrop");b();function md(e){return se("edition",e)}n(md,"useEdition");b();function yd(e){return se("nft-drop",e)}n(yd,"useNFTDrop");b();function Ed(e){return se("marketplace",e)}n(Ed,"useMarketplace");b();function Id(e){return se("nft-collection",e)}n(Id,"useNFTCollection");b();function Sd(e){return se("pack",e)}n(Sd,"usePack");b();function Nd(e){return se("token",e)}n(Nd,"useToken");b();function Od(e){return se("token-drop",e)}n(Od,"useTokenDrop");b();function kd(e){return se("vote",e)}n(kd,"useVote");b();function jd(e){return se("split",e)}n(jd,"useSplit");b();function Bd(e){return se("multiwrap",e)}n(Bd,"useMultiwrap");b();function Gd(e){return se("signature-drop",e)}n(Gd,"useSignatureDrop");b();b();function xe(){return wagmi.useConnect()}n(xe,"useConnect");function ff(e){let t={reconnectAfterGnosis:!0,...e},[,r]=xe(),[o,i]=wagmi.useAccount();return async()=>{var d;let a=((d=o.data)==null?void 0:d.connector)instanceof Qe&&o.data.connector.previousConnector||void 0;if(t.reconnectAfterGnosis&&a)try{return await r(a)}catch(m){return console.error("failed to re-connect to previous connector",m),i()}return i()}}n(ff,"useDisconnect");b();function et(){var t;let[e]=wagmi.useAccount();return (t=e.data)==null?void 0:t.address}n(et,"useAddress");b();function vf(e,t,r){return z.useMemo(()=>new browser.ThirdwebSDK(e,{...t,readonlySettings:{...t==null?void 0:t.readonlySettings,rpcUrl:e}},r),[e,t])}n(vf,"useReadonlySDK");b();b();function Fu(e){return detectBrowser.detect(e)}n(Fu,"detectEnv");function Lr(){let e=Pr();return e?e.toLowerCase().includes("android"):!1}n(Lr,"isAndroid");function Bu(){let e=Pr();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}n(Bu,"isIOS");function Pr(){let e=Fu();return e!=null&&e.os?e.os:void 0}n(Pr,"detectOS");function go(){return Pr()?Lr()||Bu():!1}n(go,"isMobile");function _f(){var m;let[e,t]=xe();if(e.loading)return ()=>Promise.reject("Metamask connector not ready to be used, yet");let r=typeof window<"u"&&((m=window.ethereum)==null?void 0:m.isMetaMask),o=go()&&!r,i=e.data.connectors.find(g=>g.id==="injected"),a=e.data.connectors.find(g=>g.id==="walletConnect"),d=(o?a:i)||i;return Q__default["default"](d,"No connector found, please make sure you provide the InjectedConnector to your <ThirdwebProvider />"),async()=>{if(!r){let g=`https://metamask.app.link/dapp/${window.location.host+window.location.pathname+window.location.search}`;if(o&&d.id==="walletConnect")try{g=(await d.getProvider()).connector.uri,g=Lr()?g:`https://metamask.app.link/dapp/${window.location.host+window.location.pathname+window.location.search}`;}catch(h){console.warn("failed to get provider.connector.uri",h);}return window.open(g,"_blank"),Promise.resolve({error:new Error("metamask not injected")})}return await t(d)}}n(_f,"useMetamask");b();function Nf(){let[e,t]=xe();if(e.loading)return ()=>Promise.reject("WalletConnect connector not ready to be used, yet");let r=e.data.connectors.find(o=>o.id==="walletConnect");return Q__default["default"](r,"WalletConnect connector not found, please make sure it is provided to your <ThirdwebProvider />"),()=>t(r)}n(Nf,"useWalletConnect");b();function Ku(){let[e,t]=xe();if(e.loading)return ()=>Promise.reject("Coinbase connector not ready to be used, yet");let r=e.data.connectors.find(o=>o.id==="coinbasewallet");return Q__default["default"](r,"Coinbase connector not found, please make sure it is provided to your <ThirdwebProvider />"),()=>t(r)}n(Ku,"useCoinbaseWallet");function Lf(){return Ku()}n(Lf,"useWalletLink");b();function jf(){let[e,t]=xe();if(e.loading)return ()=>Promise.reject("Gnosis connector not ready to be used, yet");let r=e.data.connectors.find(o=>o.id==="gnosis");return Q__default["default"](r,"Gnosis connector not found, please make sure it is provided to your <ThirdwebProvider />"),async o=>{let i=e.data.connector,a=await(i==null?void 0:i.getChainId());return Q__default["default"](!!i,"Cannot connect to Gnosis Safe without first being connected to a personal wallet."),Q__default["default"](a===o.safeChainId,"Gnosis safe chain id must match personal wallet chain id."),Q__default["default"](ethers.utils.isAddress(o.safeAddress),"Gnosis safe address must be a valid address."),r.setConfiguration(i,o),t(r)}}n(jf,"useGnosis");b();function qf(){let[e,t]=xe();if(e.loading)return ()=>Promise.reject("Magic connector not ready to be used, yet");let r=e.data.connectors.find(o=>o.id==="magic");return Q__default["default"](r,"Magic connector not found, please make sure it is provided to your <ThirdwebProvider />"),o=>(r.setConfiguration(o),t(r))}n(qf,"useMagic");b();function rr(){var e;return (e=wagmi.useNetwork()[0].data.chain)==null?void 0:e.id}n(rr,"useChainId");b();function Vf(){let e=mo(),t=rr();return e===-1||!t?!1:e!==t}n(Vf,"useNetworkMismatch");b();function Yf(){return wagmi.useNetwork()}n(Yf,"useNetwork");b();b();b();var Qu="https://gateway.ipfscdn.io/ipfs/",yo={gatewayUrl:Qu};function vo(e,t=yo){if(!!e)return e.startsWith("ipfs://")?e.replace("ipfs://",t.gatewayUrl):e}n(vo,"resolveIpfsUri");async function bo(e){if(!e)return;let t=Yu__default["default"].getType(e);if(t)return t;let r=await fetch(e,{method:"HEAD"});if(r.ok&&r.headers.has("content-type"))return r.headers.get("content-type")??void 0}n(bo,"resolveMimeType");b();var kr;function Ju(e){return typeof window>"u"||!e||!e.startsWith("video/")?"":(kr||(kr=document.createElement("video")),kr.canPlayType(e))}n(Ju,"supportsVideoType");function Eo(e){return !!Ju(e)}n(Eo,"shouldRenderVideoTag");var $r;function Zu(e){return typeof window>"u"||!e||!e.startsWith("audio/")?"":($r||($r=document.createElement("audio")),$r.canPlayType(e))}n(Zu,"supportsAudioType");function wo(e){return !!Zu(e)}n(wo,"shouldRenderAudioTag");b();function Dr(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t);});}}n(Dr,"mergeRefs");b();function dt(){return dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},dt.apply(this,arguments)}n(dt,"_extends");var Co=n(e=>z__default["default"].createElement("svg",dt({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),z__default["default"].createElement("circle",{cx:"9",cy:"28.5",r:"1.5",fill:"currentColor"}),z__default["default"].createElement("path",{fill:"currentColor",d:"M10 25H8v-4h2a2 2 0 0 0 0-4H8a2.002 2.002 0 0 0-2 2v.5H4V19a4.005 4.005 0 0 1 4-4h2a4 4 0 0 1 0 8Z"}),z__default["default"].createElement("path",{fill:"currentColor",d:"m27.7 9.3l-7-7A.908.908 0 0 0 20 2H10a2.006 2.006 0 0 0-2 2v8h2V4h8v6a2.006 2.006 0 0 0 2 2h6v16H14v2h12a2.006 2.006 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM20 10V4.4l5.6 5.6Z"})),"CarbonDocumentUnknown"),Io=n(e=>z__default["default"].createElement("svg",dt({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),z__default["default"].createElement("path",{fill:"currentColor",d:"M29 31a.999.999 0 0 1-.625-.22L23.65 27H20a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h3.65l4.726-3.78A1 1 0 0 1 30 17v13a1 1 0 0 1-1 1Zm-8-6h3a1 1 0 0 1 .625.22L28 27.92v-8.84l-3.376 2.7A1 1 0 0 1 24 22h-3Z"}),z__default["default"].createElement("path",{fill:"currentColor",d:"M16 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v3h2v-5a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h8Zm2-23.6l5.6 5.6H18Z"})),"CarbonDocumentAudio"),Ao=n(e=>z__default["default"].createElement("svg",dt({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),z__default["default"].createElement("path",{fill:"currentColor",d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm10 0h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"})),"CarbonPauseFilled"),_o=n(e=>z__default["default"].createElement("svg",dt({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),z__default["default"].createElement("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"})),"CarbonPlayFilledAlt");function Re(){return Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},Re.apply(this,arguments)}n(Re,"_extends");var jr=n(({onClick:e,isPlaying:t})=>{let[r,o]=z.useState(!1),i=n(()=>o(!0),"onMouseEnter"),a=n(()=>o(!1),"onMouseLeave"),d=n(()=>o(!1),"onMouseDown"),m=n(()=>o(!0),"onMouseUp");return z__default["default"].createElement("button",{style:{position:"absolute",bottom:0,right:0,transform:"translate(-25%, -25%)",maxWidth:"32px",width:"8%",minWidth:"24px",aspectRatio:"1",zIndex:3,backgroundColor:"#fff",color:"rgb(138, 147, 155)",display:"grid",placeItems:"center",borderRadius:"50%",border:"1px solid rgb(229, 232, 235)",cursor:"pointer",...r?{color:"rgb(53, 56, 64)",boxShadow:"rgb(4 17 29 / 25%) 0px 0px 8px 0px"}:{}},onClick:e,onMouseEnter:i,onMouseLeave:a,onMouseDown:d,onMouseUp:m},t?z__default["default"].createElement(Ao,{style:{width:"66%",height:"66%"}}):z__default["default"].createElement(_o,{style:{width:"66%",height:"66%"}}))},"PlayButton"),nl=z__default["default"].forwardRef(({src:e,alt:t,poster:r,requireInteraction:o,children:i,style:a,width:d,height:m,controls:g,...h},y)=>{let E=z.useRef(null),[M,U]=z.useState(!o),[C,L]=z.useState(!0);return z.useEffect(()=>{E.current&&(M?E.current.play():(E.current.pause(),E.current.currentTime=0));},[M]),z__default["default"].createElement("div",Re({style:{position:"relative",...a}},h),z__default["default"].createElement("video",{ref:Dr([E,y]),src:e??void 0,poster:r??void 0,loop:!0,playsInline:!0,muted:C,preload:r?"metadata":"auto",onCanPlay:()=>{var _;M&&((_=E.current)==null||_.play());},width:d,height:m,controls:g,style:{height:"100%",width:"100%",objectFit:"contain",zIndex:1,transition:"opacity .5s",opacity:r?M?1:0:1}}),r&&z__default["default"].createElement("img",{src:r,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:M?0:1,top:0,left:0,right:0,bottom:0}}),z__default["default"].createElement(jr,{onClick:()=>{U(_=>!_),L(!1);},isPlaying:M}))}),ol=z__default["default"].forwardRef(({src:e,alt:t,poster:r,requireInteraction:o,children:i,style:a,height:d,width:m,controls:g,...h},y)=>{let E=z.useRef(null),[M,U]=z.useState(!1),[C,L]=z.useState(!0);return z.useEffect(()=>{E.current&&(M?E.current.play():(E.current.pause(),E.current.currentTime=0));},[M]),z__default["default"].createElement("div",Re({style:{position:"relative",...a}},h),r?z__default["default"].createElement("img",{height:d,width:m,src:r,style:{height:"100%",width:"100%",pointerEvents:"none",objectFit:"contain"}}):z__default["default"].createElement("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",pointerEvents:"none",backgroundColor:"#fff",color:"rgb(138, 147, 155)"}},z__default["default"].createElement(Io,{style:{height:"64px",width:"64px"}})),z__default["default"].createElement(jr,{onClick:()=>{U(_=>!_),L(!1);},isPlaying:M}),z__default["default"].createElement("audio",{ref:Dr([E,y]),src:e??void 0,loop:!0,playsInline:!0,muted:C,style:{position:"absolute",opacity:0,pointerEvents:"none",zIndex:-1,visibility:"hidden"}}))}),il=z__default["default"].forwardRef(({src:e,alt:t,poster:r,requireInteraction:o,children:i,style:a,height:d,width:m,controls:g,...h},y)=>{let{observe:E,width:M}=rl__default["default"](),[U,C]=z.useState(!o);return M<300?z__default["default"].createElement("div",{ref:E},z__default["default"].createElement(No,Re({style:a,src:e,alt:t},h))):z__default["default"].createElement("div",Re({style:{position:"relative",...a}},h,{ref:E}),z__default["default"].createElement("iframe",{src:U?e??void 0:void 0,ref:y,style:{objectFit:"contain",zIndex:1,height:"100%",width:"100%",transition:"opacity .5s",opacity:r?U?1:0:1}}),r&&z__default["default"].createElement("img",{src:r,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:U?0:1,top:0,left:0,right:0,bottom:0}}),z__default["default"].createElement(jr,{onClick:()=>{C(L=>!L);},isPlaying:U}))}),No=z__default["default"].forwardRef(({src:e,alt:t,poster:r,requireInteraction:o,children:i,style:a,height:d,width:m,controls:g,...h},y)=>z__default["default"].createElement("div",Re({style:{position:"relative",...a}},h),z__default["default"].createElement("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",backgroundColor:"#fff",color:"rgb(138, 147, 155)"}},z__default["default"].createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",flexWrap:"nowrap"}},z__default["default"].createElement(Co,{style:{maxWidth:"128px",minWidth:"48px",width:"50%",aspectRatio:"1"}}),z__default["default"].createElement("a",{rel:"noopener noreferrer",style:{textDecoration:"underline",color:"rgb(138, 147, 155)"},href:e??void 0,target:"_blank",ref:y},t||"File"))))),To=z__default["default"].forwardRef(({children:e,src:t,poster:r,alt:o,requireInteraction:i=!1,style:a,...d},m)=>{let g={objectFit:"contain",...a},h=So(t??void 0),y=So(r??void 0);if(h.mimeType){if(h.mimeType==="text/html")return z__default["default"].createElement(il,Re({style:g,src:h.url,poster:y.url,requireInteraction:i},d));if(Eo(h.mimeType))return z__default["default"].createElement(nl,Re({style:g,src:h.url,poster:y.url,requireInteraction:i},d));if(wo(h.mimeType))return z__default["default"].createElement(ol,Re({style:g,src:h.url,poster:y.url,requireInteraction:i},d));if(h.mimeType.startsWith("image/"))return z__default["default"].createElement("img",Re({style:g,src:h.url,alt:o,ref:m},d))}else return z__default["default"].createElement("img",Re({style:g},d,{ref:m}));return z__default["default"].createElement(No,Re({style:g,src:h.url,alt:o,ref:m},d))});function So(e){let t=z.useMemo(()=>vo(e),[e]),r=reactQuery.useQuery(["mime-type",t],()=>bo(t),{enabled:!!t});return {url:t,mimeType:r.data}}n(So,"useResolvedMediaType");b();function Ur(){return Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},Ur.apply(this,arguments)}n(Ur,"_extends");var yp=z__default["default"].forwardRef(({metadata:e,...t},r)=>z__default["default"].createElement(To,Ur({src:e.animation_url||e.image,poster:e.image,alt:e.name,ref:r},t)));b();b();function q(e,t,r){let o=K(),i={...r,enabled:!!(o&&(r==null?void 0:r.enabled))};return reactQuery.useQuery(Se(e,o),t,i)}n(q,"useQueryWithNetwork");async function ko(e,t){if(!(!e||!t))try{return await t.resolveContractType(e)}catch{return "custom"}}n(ko,"fetchContractType");async function $o(e,t){if(!(!e||!t))return await(await t.getPublisher()).fetchCompilerMetadataFromAddress(e)}n($o,"fetchContractCompilerMetadata");async function Fr(e,t,r){if(!t||!r)return;let o=await e.fetchQuery(Se(k.contract.type(t),r._chainId),()=>ko(t,r),{staleTime:1/0});if(o!=="custom")return {contractType:o,compilerMetadata:null};let i=await e.fetchQuery(Se(k.contract.compilerMetadata(t),r._chainId),()=>$o(t,r),{staleTime:1/0});return {contractType:o,compilerMetadata:i}}n(Fr,"fetchContractTypeAndCompilerMetadata");function Do(e){var r;if(!e||!e.contractType)return null;let t=null;return e.contractType!=="custom"&&(t=browser.CONTRACTS_MAP[e.contractType].contractAbi),e.contractType==="custom"&&e.compilerMetadata&&(t=(r=e.compilerMetadata)==null?void 0:r.abi),t}n(Do,"getContractAbi");function Br(e,t,r){if(!t||!r||!e||!t.contractType)return null;let o=Do(t);return Q__default["default"](o,`could not resolve any ABI for contract${e}`),r.getContractFromAbi(e,o)}n(Br,"getContractFromCombinedTypeAndCompilerMetadata");function Tp(e){var i;let t=_e(),r=jo(e);if(!e||!t||!((i=r.data)!=null&&i.contractType))return {...r,abi:null};let o=Do(r.data);return {...r,abi:o}}n(Tp,"useContractAbi");function Mp(e){let t=_e();return q(k.contract.type(e),()=>ko(e,t),{enabled:!!t&&!!e,staleTime:1/0})}n(Mp,"useContractType");function Op(e){let t=_e();return q(k.contract.compilerMetadata(e),()=>$o(e,t),{enabled:!!t&&!!e,staleTime:1/0})}n(Op,"useContractCompilerMetadata");function jo(e){let t=_e(),r=reactQuery.useQueryClient();return q(k.contract.typeAndCompilerMetadata(e),()=>Fr(r,e,t),{enabled:!!t&&!!e,staleTime:1/0})}n(jo,"useContractTypeAndCompilerMetadata");function Lp(e){var i;let t=_e(),r=jo(e);if(!e||!t||!((i=r.data)!=null&&i.contractType))return {...r,contract:null};let o=Br(e,r.data,t);return {...r,contract:o}}n(Lp,"useContract");function Pp(e){let t=_e(),r=reactQuery.useQueryClient(),o=K();return q(k.contract.metadata(e),async()=>{var d;let i=await r.fetchQuery(Se(k.contract.typeAndCompilerMetadata(e),o),()=>Fr(r,e,t),{staleTime:1/0}),a=Br(e,i,t);return Q__default["default"]((d=a==null?void 0:a.metadata)==null?void 0:d.get,"contract metadata is not available"),await a.metadata.get()},{enabled:!!e||!!t})}n(Pp,"useContractMetadata");function kp(e){let t=_e(),r=reactQuery.useQueryClient(),o=K();return q(k.contract.extractFunctions(e),async()=>{let i=await r.fetchQuery(Se(k.contract.typeAndCompilerMetadata(e),o),()=>Fr(r,e,t),{staleTime:1/0}),a=Br(e,i,t);return a instanceof browser.SmartContract?a.publishedMetadata.extractFunctions():null},{enabled:!!e||!!t,staleTime:1/0})}n(kp,"useContractFunctions");function $p(e,t,...r){let o=e==null?void 0:e.getAddress();return q(k.contract.call(o,t,r),()=>(Q__default["default"](e,"contract must be defined"),Q__default["default"](t,"function name must be provided"),e.call(t,...r)),{enabled:!!e&&!!t})}n($p,"useContractData");function Dp(e,t){let r=K(),o=e==null?void 0:e.getAddress(),i=reactQuery.useQueryClient();return reactQuery.useMutation(async a=>(Q__default["default"](e,"contract must be defined"),Q__default["default"](t,"function name must be provided"),a!=null&&a.length?e.call(t,...a):e.call(t)),{onSettled:()=>i.invalidateQueries(Se(H(o),r))})}n(Dp,"useContractCall");function jp(e,t={subscribe:!0}){let r=e==null?void 0:e.getAddress(),o=!!e,i=reactQuery.useQueryClient(),a=K(),d=z.useMemo(()=>Se(k.contract.events.getAllEvents(r),a),[r]);return z.useEffect(()=>!t.subscribe||!o||!e?void 0:e.events.listenToAllEvents(g=>{i.setQueryData(d,h=>h?h.findIndex(E=>E.transaction.transactionHash===g.transaction.transactionHash&&E.transaction.logIndex===g.transaction.logIndex)===-1?[g,...h]:h:[g]);}),[o,t.subscribe,d]),reactQuery.useQuery(d,()=>(Q__default["default"](e,"contract must be defined"),e.events.getAllEvents(t.queryFilter)),{enabled:o,refetchOnWindowFocus:!t.subscribe,refetchOnMount:!0,refetchOnReconnect:!0})}n(jp,"useAllContractEvents");function Up(e,t,r={subscribe:!0}){let o=e==null?void 0:e.getAddress(),i=!!e&&!!t,a=reactQuery.useQueryClient(),d=K(),m=z.useMemo(()=>Se(k.contract.events.getAllEvents(o),d),[o]);return z.useEffect(()=>!r.subscribe||!i||!e||!t?void 0:e.events.listenToAllEvents(h=>{a.setQueryData(m,y=>y?y.findIndex(M=>M.transaction.transactionHash===h.transaction.transactionHash&&M.transaction.logIndex===h.transaction.logIndex)===-1?[h,...y]:y:[h]);}),[i,r.subscribe,m,t]),reactQuery.useQuery(m,()=>(Q__default["default"](e,"contract must be defined"),e.events.getEvents(t,r.queryFilter)),{enabled:i,refetchOnWindowFocus:!r.subscribe,refetchOnMount:!0,refetchOnReconnect:!0})}n(Up,"useContractEvents");b();function Fo(e,t){return e instanceof browser.Erc721?{type:"ERC721",supply:1,owner:"",...t}:{type:"ERC1155",supply:0,owner:"",...t}}n(Fo,"convertResponseToNFTType");function qr(e,t){return t.map(r=>Fo(e,r))}n(qr,"convertResponseToNFTTypeArray");function Vp(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.nft.get(r,t),async()=>(Q__default["default"](e,"No Contract instance provided"),Q__default["default"](e.get,"Contract instance does not support get"),Fo(e,await e.get(ethers.BigNumber.from(t||0)))),{enabled:!!e&&t!==void 0})}n(Vp,"useNFT");function Bo(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.nft.query.all(r,t),async()=>{var o;return Q__default["default"](e,"No Contract instance provided"),Q__default["default"]((o=e.query)==null?void 0:o.all,"Contract instance does not support query.all"),qr(e,await e.query.all(t))},{enabled:!!e||!r,keepPreviousData:!0})}n(Bo,"useNFTs");function Xp(...[e,t]){let r=e==null?void 0:e.getAddress();return q(k.contract.nft.query.totalCirculatingSupply(r),()=>{var o,i;return Q__default["default"](e,"No Contract instance provided"),e instanceof browser.Erc721?(Q__default["default"]((o=e==null?void 0:e.query)==null?void 0:o.totalCirculatingSupply,"Contract instance does not support query.totalCirculatingSupply"),e.query.totalCirculatingSupply()):(Q__default["default"]((i=e.query)==null?void 0:i.totalCirculatingSupply,"Contract instance does not support query.getTotalCount"),Q__default["default"](t,"No tokenId provided"),e.query.totalCirculatingSupply(t))},{enabled:!!e})}n(Xp,"useTotalCirculatingSupply");function Qp(e){let t=e==null?void 0:e.getAddress();return q(k.contract.nft.query.totalCount(t),()=>{var r,o;return Q__default["default"](e,"No Contract instance provided"),e instanceof browser.Erc721?(Q__default["default"]((r=e==null?void 0:e.query)==null?void 0:r.totalCirculatingSupply,"Contract instance does not support query.totalCirculatingSupply"),e.query.totalCirculatingSupply()):(Q__default["default"]((o=e.query)==null?void 0:o.totalCount,"Contract instance does not support query.totalCount"),e.query.totalCount())},{enabled:!!e})}n(Qp,"useTotalCount");function Yp(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.nft.query.owned.all(r,t),async()=>{var o,i,a;return Q__default["default"](e,"No Contract instance provided"),e instanceof browser.Erc721?(Q__default["default"]((i=(o=e.query)==null?void 0:o.owned)==null?void 0:i.all,"Contract instance does not support query.owned.all"),qr(e,await e.query.owned.all(t))):(Q__default["default"]((a=e.query)==null?void 0:a.owned,"Contract instance does not support query.owned"),qr(e,await e.query.owned(t)))},{enabled:!!e&&!!t})}n(Yp,"useOwnedNFTs");function Jp(...[e,t,r]){let o=e==null?void 0:e.getAddress();return q(k.contract.nft.balanceOf(o,t,r),()=>(Q__default["default"](e,"No Contract instance provided"),Q__default["default"](e.balanceOf,"Contract instance does not support balanceOf"),Q__default["default"](t,"No owner wallet address provided"),e instanceof browser.Erc1155?(Q__default["default"](r,"No tokenId provided"),e.balanceOf(t,r)):e.balanceOf(t)),{enabled:!!e&&!!t})}n(Jp,"useNFTBalance");function Zp(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(async i=>{var a;if(Q__default["default"](i.to,'No "to" address provided'),Q__default["default"]((a=e==null?void 0:e.mint)==null?void 0:a.to,"contract does not support mint.to"),e instanceof browser.Erc1155){Q__default["default"]("supply"in i,"supply not provided");let{to:d,metadata:m,supply:g}=i;return await e.mint.to(d,{metadata:m,supply:ethers.BigNumber.from(g||1)})}return await e.mint.to(i.to,i.metadata)},{onSettled:()=>te(o,r,t)})}n(Zp,"useMintNFT");function em(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(async i=>{var g;Q__default["default"](i.to,'No "to" address provided'),Q__default["default"]((g=e==null?void 0:e.mint)==null?void 0:g.additionalSupplyTo,"contract does not support mint.additionalSupplyTo"),Q__default["default"]("tokenId"in i,"tokenId not provided"),Q__default["default"]("additionalSupply"in i,"additionalSupply not provided");let{to:a,tokenId:d,additionalSupply:m}=i;return await e.mint.additionalSupplyTo(a,d,m)},{onSettled:()=>te(o,r,t)})}n(em,"useMintNFTSupply");function tm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(i=>(Q__default["default"](e==null?void 0:e.transfer,"contract does not support transfer"),e instanceof browser.Erc1155?(Q__default["default"]("amount"in i,"amount not provided"),e.transfer(i.to,i.tokenId,i.amount)):e.transfer(i.to,i.tokenId)),{onSettled:()=>te(o,r,t)})}n(tm,"useTransferNFT");function rm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(({tokenId:i,addresses:a})=>(Q__default["default"](e==null?void 0:e.airdrop,"contract does not support airdrop"),e.airdrop(i,a)),{onSettled:()=>te(o,r,t)})}n(rm,"useAirdropNFT");function nm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(async i=>{if(Q__default["default"](i.tokenId,"No tokenId provided"),Q__default["default"](e==null?void 0:e.burn,"contract does not support burn"),e instanceof browser.Erc1155){Q__default["default"]("amount"in i,"amount not provided");let{tokenId:d,amount:m}=i;return await e.burn.tokens(d,m)}let{tokenId:a}=i;return await e.burn.token(a)},{onSettled:()=>te(o,r,t)})}n(nm,"useBurnNFT");b();function fm(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.nft.drop.getAllUnclaimed(r,t),()=>(Q__default["default"](e,"No Contract instance provided"),Q__default["default"](e.getAllUnclaimed,"Contract instance does not support getAllUnclaimed"),e.getAllUnclaimed(t)),{enabled:!!e})}n(fm,"useUnclaimedNFTs");function pm(e,t){return Bo(e,t)}n(pm,"useClaimedNFTs");function mm(e){let t=e==null?void 0:e.getAddress();return q(k.contract.nft.drop.totalUnclaimedSupply(t),()=>(Q__default["default"](e,"No Contract instance provided"),Q__default["default"](e.totalUnclaimedSupply,"Contract instance does not support totalUnclaimedSupply"),e.totalUnclaimedSupply()),{enabled:!!e})}n(mm,"useUnclaimedNFTSupply");function hm(e){let t=e==null?void 0:e.getAddress();return q(k.contract.nft.drop.totalClaimedSupply(t),()=>(Q__default["default"](e,"No Contract instance provided"),e instanceof browser.Erc1155?e.getTotalCount():(Q__default["default"](e.totalClaimedSupply,"Contract instance does not support totalClaimedSupply"),e.totalClaimedSupply())),{enabled:!!e})}n(hm,"useClaimedNFTSupply");function gm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(async i=>{if(Q__default["default"](i.to,'No "to" address provided'),Q__default["default"](e==null?void 0:e.claimTo,"contract does not support claimTo"),e instanceof browser.Erc1155){Q__default["default"]("tokenId"in i,"tokenId not provided");let{to:a,tokenId:d,quantity:m}=i;return await e.claimTo(a,d,m,i.checkERC20Allowance)}return await e.claimTo(i.to,i.quantity,i.checkERC20Allowance)},{onSettled:()=>te(o,r,t)})}n(gm,"useClaimNFT");function ym(e,t){let r=K(),o=e==null?void 0:e.getAddress(),i=reactQuery.useQueryClient();return reactQuery.useMutation(async a=>{var m;Q__default["default"]((m=e==null?void 0:e.drop)==null?void 0:m.lazyMint,"contract does not support drop.lazyMint");let d;return t&&(d={onProgress:t}),await e.drop.lazyMint(a.metadatas,d)},{onSettled:()=>te(i,o,r)})}n(ym,"useLazyMint");b();function Rm(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.marketplace.getListing(r,t),()=>(Q__default["default"](e,"No Contract instance provided"),e.getListing(ethers.BigNumber.from(t||0))),{enabled:!!e||!r,keepPreviousData:!0})}n(Rm,"useListing");function xm(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.marketplace.getAllListings(r,t),()=>(Q__default["default"](e,"No Contract instance provided"),e.getAllListings(t)),{enabled:!!e||!r,keepPreviousData:!0})}n(xm,"useListings");function Nm(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.marketplace.getActiveListings(r,t),()=>(Q__default["default"](e,"No Contract instance provided"),e.getActiveListings(t)),{enabled:!!e||!r,keepPreviousData:!0})}n(Nm,"useActiveListings");function Tm(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.marketplace.auction.getWinningBid(r,t),()=>(Q__default["default"](e,"No Contract instance provided"),e.auction.getWinningBid(ethers.BigNumber.from(t||0))),{enabled:!!e&&t!==void 0})}n(Tm,"useWinningBid");function Mm(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.marketplace.auction.getWinner(r,t),async()=>{var i;Q__default["default"](e,"No Contract instance provided");let o;try{o=await e.auction.getWinner(ethers.BigNumber.from(t||0));}catch(a){if(!((i=a==null?void 0:a.message)!=null&&i.includes("Could not find auction")))throw a}return o},{enabled:!!e&&t!==void 0})}n(Mm,"useAuctionWinner");function Om(e){let t=e==null?void 0:e.getAddress();return q(k.contract.marketplace.getBidBufferBps(t),()=>(Q__default["default"](e,"No Contract instance provided"),e.getBidBufferBps()),{enabled:!!e})}n(Om,"useBidBuffer");function Lm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient(),i=et();return reactQuery.useMutation(async a=>{var d;return Q__default["default"](i,"no wallet connected, cannot create listing"),Q__default["default"]((d=e==null?void 0:e.direct)==null?void 0:d.createListing,"contract does not support direct.createListing"),await e.direct.createListing(a)},{onSettled:()=>te(o,r,t)})}n(Lm,"useCreateDirectListing");function Pm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient(),i=et();return reactQuery.useMutation(async a=>{var d;return Q__default["default"](i,"no wallet connected, cannot create listing"),Q__default["default"]((d=e==null?void 0:e.direct)==null?void 0:d.createListing,"contract does not support auction.createListing"),await e.auction.createListing(a)},{onSettled:()=>te(o,r,t)})}n(Pm,"useCreateAuctionListing");function km(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient(),i=et();return reactQuery.useMutation(async a=>{var d;return Q__default["default"](i,"no wallet connected, cannot make bid"),Q__default["default"]((d=e==null?void 0:e.auction)==null?void 0:d.makeBid,"contract does not support auction.makeBid"),await e.auction.makeBid(a.listingId,a.bid)},{onSettled:()=>te(o,r,t)})}n(km,"useMakeBid");function $m(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient(),i=et();return reactQuery.useMutation(async a=>{var d;return Q__default["default"](i,"no wallet connected, cannot make bid"),a.type===browser.ListingType.Direct?(Q__default["default"](e==null?void 0:e.direct.buyoutListing,"contract does not support direct.buyoutListing"),await e.direct.buyoutListing(a.id,a.buyAmount,a.buyForWallet)):(Q__default["default"]((d=e==null?void 0:e.auction)==null?void 0:d.buyoutListing,"contract does not support auction.buyoutListing"),await e.auction.buyoutListing(a.id))},{onSettled:()=>te(o,r,t)})}n($m,"useBuyNow");b();function Wm(e){let t=e==null?void 0:e.getAddress();return q(k.contract.token.totalSupply(t),()=>(Q__default["default"](e,"No Contract instance provided"),e.totalSupply()),{enabled:!!e||!!t})}n(Wm,"useTokenSupply");function Gm(e,t){let r=e==null?void 0:e.getAddress();return q(k.contract.token.balanceOf(r,t),async()=>(Q__default["default"](e,"No Contract instance provided"),Q__default["default"](t,"No address provided"),await e.balanceOf(t)),{enabled:!!t&&!!e})}n(Gm,"useTokenBalance");function Km(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(i=>{var m;let{to:a,amount:d}=i;return Q__default["default"]((m=e==null?void 0:e.mint)==null?void 0:m.to,"contract does not support mint.to"),e.mint.to(a,d)},{onSettled:()=>te(o,r,t)})}n(Km,"useMintToken");function Hm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(async i=>(Q__default["default"](i.to,'No "to" address provided'),Q__default["default"](e==null?void 0:e.claimTo,"contract does not support claimTo"),await e.claimTo(i.to,i.amount,i.checkERC20Allowance)),{onSettled:()=>te(o,r,t)})}n(Hm,"useClaimToken");function zm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(i=>{let{to:a,amount:d}=i;return Q__default["default"](e==null?void 0:e.transfer,"contract does not support transfer"),e.transfer(a,d)},{onSettled:()=>te(o,r,t)})}n(zm,"useTransferToken");function Vm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(i=>{Q__default["default"](e==null?void 0:e.transferBatch,"contract does not support transferBatch");let a=i.map(d=>({toAddress:d.to,amount:d.amount}));return e.transferBatch(a)},{onSettled:()=>te(o,r,t)})}n(Vm,"useTransferBatchToken");function Xm(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(i=>{let{amount:a}=i;return Q__default["default"](e==null?void 0:e.burn,"contract does not support burn"),e.burn.tokens(a)},{onSettled:()=>te(o,r,t)})}n(Xm,"useBurnToken");b();function th(...[e,t]){let r=e==null?void 0:e.getAddress();return q(k.extensions.claimConditions.getActive(r,t),()=>(Q__default["default"](e,"No Contract instance provided"),Q__default["default"](e.claimConditions.getActive,"Contract instance does not support claimConditions.getActive"),e instanceof browser.Erc1155?(Q__default["default"](t,"tokenId is required for ERC1155 claim conditions"),e.claimConditions.getActive(t)):e.claimConditions.getActive()),{enabled:e instanceof browser.Erc1155?t!==void 0:!!e})}n(th,"useActiveClaimCondition");function rh(...[e,t]){let r=e==null?void 0:e.getAddress();return q(k.extensions.claimConditions.getAll(r,t),()=>(Q__default["default"](e,"No Contract instance provided"),Q__default["default"](e.claimConditions.getAll,"Contract instance does not support claimConditions.getAll"),e instanceof browser.Erc1155?(Q__default["default"](t,"tokenId is required for ERC1155 claim conditions"),e.claimConditions.getAll(t)):e.claimConditions.getAll()),{enabled:e instanceof browser.Erc1155?t!==void 0:!!e})}n(rh,"useClaimConditions");function nh(...[e,t,r]){let o=e==null?void 0:e.getAddress();return q(k.extensions.claimConditions.getClaimIneligibilityReasons(o,t,r),()=>(Q__default["default"](e,"No Contract instance provided"),Q__default["default"](e.claimConditions.getClaimIneligibilityReasons,"Contract instance does not support claimConditions.getClaimIneligibilityReasons"),e instanceof browser.Erc1155?(Q__default["default"](r,"tokenId is required for ERC1155 claim ineligibility reasons"),e.claimConditions.getClaimIneligibilityReasons(r,t.quantity,t.walletAddress)):e.claimConditions.getClaimIneligibilityReasons(t.quantity,t.walletAddress)),{enabled:(e instanceof browser.Erc1155?r!==void 0:!!e)&&!!t&&!!t.walletAddress})}n(nh,"useClaimIneligibilityReasons");b();function ph(e){let{rpcUrlMap:t}=so(),r=rr(),o=Zt(),i=et(),a=z.useMemo(()=>{if(o)return new browser.UserWallet(o,{readonlySettings:{rpcUrl:t[r],chainId:r}})},[o,r]),d=z.useMemo(()=>k.wallet.balance(r,i,e),[r,e,i]);return reactQuery.useQuery(d,()=>a==null?void 0:a.balance(e),{enabled:!!a&&!!i,retry:!0,keepPreviousData:!1})}n(ph,"useBalance");b();function Eh(e){let t=e==null?void 0:e.getAddress();return q(k.extensions.sales.getRecipient(t),()=>(Q__default["default"](e,"No contract provided"),Q__default["default"]("sales"in e&&e.sales,"Contract does not support primarySale"),e.sales.getRecipient()),{enabled:!!e||!!t})}n(Eh,"usePrimarySaleRecipient");function wh(e){let t=reactQuery.useQueryClient(),r=e==null?void 0:e.getAddress(),o=K();return reactQuery.useMutation(i=>(Q__default["default"](e,"No contract provided"),Q__default["default"]("sales"in e&&e.sales,"Contract does not support primarySale"),e.sales.setRecipient(i)),{onSettled:()=>te(t,r,o)})}n(wh,"useUpdatePrimarySaleRecipient");function Ch(e){let t=e==null?void 0:e.getAddress();return q(k.extensions.royalties.getDefaultRoyaltyInfo(t),()=>(Q__default["default"](e,"No contract provided"),Q__default["default"]("royalties"in e&&e.royalties,"Contract does not support royalties"),e.royalties.getDefaultRoyaltyInfo()),{enabled:!!e||!!t})}n(Ch,"useRoyaltySettings");function Ih(e){let t=reactQuery.useQueryClient(),r=e==null?void 0:e.getAddress(),o=K();return reactQuery.useMutation(i=>(Q__default["default"](e,"No contract provided"),Q__default["default"]("royalties"in e&&e.royalties,"Contract does not support royalties"),e.royalties.setDefaultRoyaltyInfo(i)),{onSettled:()=>te(t,r,o)})}n(Ih,"useUpdateRoyaltySettings");function Ah(e){let t=e==null?void 0:e.getAddress();return q(k.extensions.platformFees.get(t),()=>(Q__default["default"](e,"No contract provided"),Q__default["default"]("platformFees"in e&&e.platformFees,"Contract does not support platformFees"),e.platformFees.get()),{enabled:!!e||!!t})}n(Ah,"usePlatformFees");function _h(e){let t=reactQuery.useQueryClient(),r=e==null?void 0:e.getAddress(),o=K();return reactQuery.useMutation(i=>(Q__default["default"](e,"No contract provided"),Q__default["default"]("platformFees"in e&&e.platformFees,"Contract does not support platformFees"),e.platformFees.set(i)),{onSettled:()=>te(t,r,o)})}n(_h,"useUpdatePlatformFees");function Sh(e){let t=e==null?void 0:e.getAddress();return q(k.extensions.metadata.get(t),()=>(Q__default["default"](e,"No contract provided"),Q__default["default"]("metadata"in e&&e.metadata,"Contract does not support metadata"),e.metadata.get()),{enabled:!!e||!!t})}n(Sh,"useMetadata");function Rh(e){let t=reactQuery.useQueryClient(),r=e==null?void 0:e.getAddress(),o=K();return reactQuery.useMutation(i=>(Q__default["default"](e,"No contract provided"),Q__default["default"]("metadata"in e&&e.metadata,"Contract does not support metadata"),e.metadata.update(i)),{onSettled:()=>te(t,r,o)})}n(Rh,"useUpdateMetadata");b();function kh(e){let t=e==null?void 0:e.getAddress();return q(k.extensions.roles.getAll(t),()=>(Q__default["default"](e,"No contract provided"),Q__default["default"](e.roles,"Contract does not support roles"),e.roles.getAll()),{enabled:!!e&&!!t})}n(kh,"useAllRoleMembers");function ml(e,t){let r=e==null?void 0:e.getAddress();return q(k.extensions.roles.get(r,t),()=>(Q__default["default"](e,"No contract provided"),Q__default["default"](e.roles,"Contract does not support roles"),e.roles.get(t)),{enabled:!!e&&!!r&&!!t})}n(ml,"useRoleMembers");function $h(e,t,r){let o=!!(e&&e.roles),{data:i}=ml(o?e:void 0,t);return o===!1||i!=null&&i.includes(ethers.constants.AddressZero)?!0:!!(r&&(i==null?void 0:i.includes(r)))}n($h,"useIsAddressRole");function Dh(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(async i=>{Q__default["default"](e,"No contract provided"),Q__default["default"](e.roles,"Contract does not support roles"),await e.roles.setAll(i);},{onSettled:()=>te(o,r,t)})}n(Dh,"useSetAllRoleMembers");function jh(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(async i=>{Q__default["default"](e,"No contract provided"),Q__default["default"](e.roles,"Contract does not support roles"),await e.roles.grant(i.role,i.address);},{onSettled:()=>te(o,r,t)})}n(jh,"useGrantRole");function Uh(e){let t=K(),r=e==null?void 0:e.getAddress(),o=reactQuery.useQueryClient();return reactQuery.useMutation(async i=>{Q__default["default"](e,"No contract provided"),Q__default["default"](e.roles,"Contract does not support roles"),await e.roles.revoke(i.role,i.address);},{onSettled:()=>te(o,r,t)})}n(Uh,"useRevokeRole");b();

Object.defineProperty(exports, 'ChainId', {
  enumerable: true,
  get: function () { return browser.ChainId; }
});
Object.defineProperty(exports, 'IpfsStorage', {
  enumerable: true,
  get: function () { return browser.IpfsStorage; }
});
Object.defineProperty(exports, 'defaultChains', {
  enumerable: true,
  get: function () { return wagmi.defaultChains; }
});
Object.defineProperty(exports, 'defaultL2Chains', {
  enumerable: true,
  get: function () { return wagmi.defaultL2Chains; }
});
Object.defineProperty(exports, 'useAccount', {
  enumerable: true,
  get: function () { return wagmi.useAccount; }
});
Object.defineProperty(exports, 'useProvider', {
  enumerable: true,
  get: function () { return wagmi.useProvider; }
});
exports.MediaRenderer = To;
exports.ThirdwebNftMedia = yp;
exports.ThirdwebProvider = Pc;
exports.ThirdwebSDKProvider = _u;
exports.useActiveChainId = K;
exports.useActiveClaimCondition = th;
exports.useActiveListings = Nm;
exports.useAddress = et;
exports.useAirdropNFT = rm;
exports.useAllContractEvents = jp;
exports.useAllRoleMembers = kh;
exports.useAuctionWinner = Mm;
exports.useBalance = ph;
exports.useBidBuffer = Om;
exports.useBuiltinContract = se;
exports.useBurnNFT = nm;
exports.useBurnToken = Xm;
exports.useBuyNow = $m;
exports.useChainId = rr;
exports.useClaimConditions = rh;
exports.useClaimIneligibilityReasons = nh;
exports.useClaimNFT = gm;
exports.useClaimToken = Hm;
exports.useClaimedNFTSupply = hm;
exports.useClaimedNFTs = pm;
exports.useCoinbaseWallet = Ku;
exports.useConnect = xe;
exports.useContract = Lp;
exports.useContractAbi = Tp;
exports.useContractCall = Dp;
exports.useContractCompilerMetadata = Op;
exports.useContractData = $p;
exports.useContractEvents = Up;
exports.useContractFunctions = kp;
exports.useContractMetadata = Pp;
exports.useContractType = Mp;
exports.useCreateAuctionListing = Pm;
exports.useCreateDirectListing = Lm;
exports.useDesiredChainId = mo;
exports.useDisconnect = ff;
exports.useEdition = md;
exports.useEditionDrop = dd;
exports.useGnosis = jf;
exports.useGrantRole = jh;
exports.useIsAddressRole = $h;
exports.useLazyMint = ym;
exports.useListing = Rm;
exports.useListings = xm;
exports.useLogin = Gc;
exports.useLogout = Qc;
exports.useMagic = qf;
exports.useMakeBid = km;
exports.useMarketplace = Ed;
exports.useMetadata = Sh;
exports.useMetamask = _f;
exports.useMintNFT = Zp;
exports.useMintNFTSupply = em;
exports.useMintToken = Km;
exports.useMultiwrap = Bd;
exports.useNFT = Vp;
exports.useNFTBalance = Jp;
exports.useNFTCollection = Id;
exports.useNFTDrop = yd;
exports.useNFTs = Bo;
exports.useNetwork = Yf;
exports.useNetworkMismatch = Vf;
exports.useOwnedNFTs = Yp;
exports.usePack = Sd;
exports.usePlatformFees = Ah;
exports.usePrimarySaleRecipient = Eh;
exports.useReadonlySDK = vf;
exports.useResolvedMediaType = So;
exports.useRevokeRole = Uh;
exports.useRoleMembers = ml;
exports.useRoyaltySettings = Ch;
exports.useSDK = _e;
exports.useSetAllRoleMembers = Dh;
exports.useSignatureDrop = Gd;
exports.useSigner = Zt;
exports.useSplit = jd;
exports.useToken = Nd;
exports.useTokenBalance = Gm;
exports.useTokenDrop = Od;
exports.useTokenSupply = Wm;
exports.useTotalCirculatingSupply = Xp;
exports.useTotalCount = Qp;
exports.useTransferBatchToken = Vm;
exports.useTransferNFT = tm;
exports.useTransferToken = zm;
exports.useUnclaimedNFTSupply = mm;
exports.useUnclaimedNFTs = fm;
exports.useUpdateMetadata = Rh;
exports.useUpdatePlatformFees = _h;
exports.useUpdatePrimarySaleRecipient = wh;
exports.useUpdateRoyaltySettings = Ih;
exports.useUser = rd;
exports.useVote = kd;
exports.useWalletConnect = Nf;
exports.useWalletLink = Lf;
exports.useWinningBid = Tm;
//# sourceMappingURL=index.js.map